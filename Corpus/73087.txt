 URL : "https://github.com/serde-rs/json/issues/316" TITLE : compatibility with tokio BODY : hey : so serde_json 's serializer and deserializer support write and read respectively, but unfortunately they aren't compatible with tokio. the basic rule of i/o with tokio i should contribute some docs somewhere is that any downstream i/o operation can fail with wouldblock , which means come back later . so any operations must be retryable. for example: in deserialize_enum https://github.com/serde-rs/json/blob/master/src/de.rs l635 , remaining_depth will not be incremented again if visit_enum fails. to avoid general issues of this kind, an raii-style lock/guard pattern might help. the serializer https://github.com/serde-rs/json/blob/master/src/ser.rs heavily uses write_all , which is incompatible with tokio . instead, you'd need to use an internal buffer. i'd personally say just documenting the incompatibility is fine for now. i'll soon be open sourcing a library to help out with testing i/o operations, so hopefully you'll find that of use here :