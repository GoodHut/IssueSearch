 URL : "https://github.com/HeliWang/HadoopPageRank/issues/1" TITLE : pull request note BODY : i have confirmed with anselme that if the same dataset is inputted to spark, then correct results could be reached spark will not self-edge every node thus i believe there is a bug in the computerankreduce class a part of join job of naivepagerank.java. computerankreduce should not emit the previous pagerank value of a node i have fixed the bug by changing line 221 in naivepagerank.java from output.collect key.getfirst , value ; to output.collect key.getfirst , new text 0 ; we do need to emit something for every node to avoid losing a node in the following rank aggregate job after i changed naivepagerank.java. i got the following results by running the same small dataset: 1 2 3 2 3 3 1 4 3 the results are correct. they match the pagerank equation pr a = 1-d / n + d pr t1 /c t1 + ... + pr tn /c tn where d=0.15 hadoop dfs -cat /user/ubuntu/haloop/pagerank_smallset-adj_4_1_20170610-225512/count/ 1 2 2 1 3 1 4 1 hadoop dfs -cat /user/ubuntu/haloop/pagerank_smallset-adj_4_1_20170610-225512/i-1/ 1 1.0 2 1.0 3 1.0 4 1.0 hadoop dfs -cat /user/ubuntu/haloop/pagerank_smallset-adj_4_1_20170610-225512/i0/ join job 2 0.5 3 0.5 1 0 3 1.0 2 0 1 1.0 3 0 3 1.0 4 0 hadoop dfs -cat /user/ubuntu/haloop/pagerank_smallset-adj_4_1_20170610-225512/i1/ aggregate job 1 0.3625 2 0.28750002 3 0.5875 4 0.2125 hadoop dfs -cat /user/ubuntu/haloop/pagerank_smallset-adj_4_1_20170610-225512/i2/ join job 2 0.18125 3 0.18125 1 0 3 0.28750002 2 0 1 0.5875 3 0 3 0.2125 4 0 hadoop dfs -cat /user/ubuntu/haloop/pagerank_smallset-adj_4_1_20170610-225512/i3/ aggregate job 1 0.300625 2 0.2396875 3 0.31468752 4 0.2125 hadoop dfs -cat /user/ubuntu/haloop/pagerank_smallset-adj_4_1_20170610-225512/i4/ 2 0.1503125 3 0.1503125 1 0 3 0.2396875 2 0 1 0.31468752 3 0 3 0.2125 4 0 hadoop dfs -cat /user/ubuntu/haloop/pagerank_smallset-adj_4_1_20170610-225512/i5/ 1 0.25970313 2 0.23504688 3 0.302875 4 0.2125