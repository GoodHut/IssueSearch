 URL : "https://github.com/tony-o/perl6-hiker/issues/8" TITLE : module tests are flapping BODY : sometimes i get this: t/01-app.t .. 1..2 ==> binding myapp::controller::basic ... ==> setting up route / controllers/basic.pm6 ==> binding myapp::controller::regex ... ==> setting up route /. / controllers/basic.pm6 caught could not connect socket: connection refused use of nil in string context in block <unit> at t/01-app.t line 32 not ok 1 - hello, wot?! failed test 'hello, wot?!' at t/01-app.t line 32 ==> serving /404 with controllers/basic.pm6 :: myapp::controller::regex /. / ok 2 - 404 - page not found. looks like you failed 1 test of 2 dubious, test returned 1 wstat 256, 0x100 failed 1/2 subtests test summary report ------------------- t/01-app.t wstat: 256 tests: 2 failed: 1 failed test: 1 non-zero exit status: 1 files=1, tests=2, 1 wallclock secs 0.04 usr 0.00 sys + 1.07 cusr 0.14 csys = 1.25 cpu result: fail but sometimes it is alright: t/01-app.t .. 1..2 ==> binding myapp::controller::basic ... ==> setting up route / controllers/basic.pm6 ==> binding myapp::controller::regex ... ==> setting up route /. / controllers/basic.pm6 ==> serving / with controllers/basic.pm6 :: myapp::controller::basic / ok 1 - hello, wot?! ==> serving /404 with controllers/basic.pm6 :: myapp::controller::regex /. / ok 2 - 404 - page not found. ok all tests successful. files=1, tests=2, 2 wallclock secs 0.03 usr 0.00 sys + 1.11 cusr 0.14 csys = 1.28 cpu result: pass