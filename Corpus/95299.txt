 URL : "https://github.com/andlabs/reallymine/issues/33" TITLE : create sparse output files BODY : would it be possible to create the output file as a sparse file with the disk size as its apparent size perhaps as a command line option ? i'm not familiar with go so can't say how to create such a file, but with dd it would be as follows: > $ dd if=/dev/zero of=file.img bs=1 count=0 seek=512m > 0+0 records in > 0+0 records out > 0 bytes 0 b copied, 0.00149225 s, 0.0 kb/s > $ du -h file.img > 0 file.img > $ du -h --apparent-size file.img > 512m file.img this would not immediately allocate the space on disk so wouldn't affect the time to decrypt the drive, but would make it appear as if it is the correct size. this would be useful to try mounting the drive read-only for inspection while the decryption is still running. without being a sparse file you'll see an dmesg error like ext4-fs loop0 : bad geometry: block count 244018688 exceeds size of device 30502080 blocks but with the correct apparent size the drive can be mounted successfully with the correct options for example mount -o loop,ro,noload,offset=$offset,errors=continue $image $mountpoint . how much is recoverable at that stage would depend on the decryption progress, but potentially allows recovering particular files much quicker. it also allows you to verify the resulting file is a mountable image early on.