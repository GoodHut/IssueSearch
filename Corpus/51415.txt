 URL : "https://github.com/blakeembrey/popsicle-retry/issues/15" TITLE : alter headers on retry BODY : hi, this is a question - though very specific to popsicle-retry and it's implementation - that's why i'm asking it here. i'd like to use popsicle to power an api sdk. the api supports an http header-based replay feature, which allows to safely repeat a post or put request - even if the original request has already been processed. the header needs to carry two bits of information: a certain id and a boolean flag . if the boolean flag is set, the api backend will always look for a previous response and add a timing penalty before responding. if it is not set, it will process the request as it would normally do. to properly use this feature, a normal request needs to carry headers id and flag:false . if the request times out and and is retried, it needs to carry headers id and flag:true . is there a non-hacky way to achieve this? if not: at what point of the command chain does popsicle fork the headers so that i could alter the flag right after? thanks in advance.