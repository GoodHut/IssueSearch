 URL : "https://github.com/squix78/esp8266-weather-station/issues/77" TITLE : update data ecry ....mn BODY : hello, i try to add a function to you're librarie it s a gestion of the time of refresh data i've just made a .h in the code, it don't work at the line : wunderground.updateastronomy &astronomy, _apikey, _language, _country, _city ; if you have any idea ... thanks > include <arduino.h> > include <jsonlistener.h> > include <wundergroundastronomy.h> > > class weather > { > public: > weather {;} > int previousmillis_updateastronomy = 0; > int count_updateastronomy=0; > string moonpctilum = ; > string moonage = ; > string moonphase = ; > string sunrisetime = ; > string sunsettime = ; > string moonrisetime = ; > string moonsettime = ; > > > > wundergroundastronomy wunderground ; > > > void updateastronomy string _apikey, string _language, string _country, string _city, int _time { > > > if millis - previousmillis_updateastronomy > _time 60000 || count_updateastronomy == 0 { > count_updateastronomy=1; > previousmillis_updateastronomy=millis ; > wgastronomy astronomy; > wunderground.updateastronomy &astronomy, _apikey, _language, _country, _city ; > > moonpctilum=astronomy.moonsettime; > moonage=astronomy.moonage; > moonphase=astronomy.moonphase; > sunrisetime=astronomy.sunrisetime; > sunsettime=astronomy.sunsettime; > moonrisetime=astronomy.moonrisetime; > moonsettime=astronomy.moonsettime; > } > } > > string moonpctilum { > return moonpctilum; > } > string moonage { > return moonage; > } > string moonphase { > return moonphase; > } > string sunrisetime { > return sunrisetime; > } > string duinoedu_sunsettime { > return sunsettime; > } > string moonrisetime { > return moonrisetime; > } > string moonsettime { > return moonsettime; > } >