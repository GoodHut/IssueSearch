 URL : "https://github.com/nodemcu/nodemcu-firmware/issues/1836" TITLE : time_wait sockets issues BODY : now we have two or more? point me if i miss something critical issues related to sockets kept in time_wait state: - cannot open new server instance when any socket in time_wait state with matched target port is present - memory leak actually high consumption that rolls back after time i think we have a several ways to go or maybe mix them together : - reduce time_wait state timeout for socket, so them will be closed earlier - kill blocking time_wait sockets when calling listen method maybe it will require some lwip code patching - kill time_wait sockets somewhere in lua gc i not so familiar with lua-level, anyone can explain this? objections? i think we should resolve this asap before upcoming master drop . /cc @marcelstoer @devsaurus