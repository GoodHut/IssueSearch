 URL : "https://github.com/tokio-rs/tokio-proto/issues/165" TITLE : error handling issue BODY : err produced by server service or server-side codec::encode causes client connection to hang. if i understand correctly, when protocol doesn't support encoding error frames, encoder::encode produces an err which must terminate the connection. currently, returning an err from a server service or encoder::encode will result in future, returned by client-side service call, being hung unresolved. i've slightly modified the following examples from tokio-line https://github.com/tokio-rs/tokio-line to demonstrate the issue: - streaming/examples/stdout_server.rs - simple/examples/echo_client_server.rs available here: https://github.com/ari7/tokio-line