 URL : "https://github.com/libp2p/go-libp2p/issues/209" TITLE : circuit relay integration BODY : the go-libp2p-circut relay code can integrate with any host that has a swarm transport by using the circuit.addrelaytransport function. this gives us some alternatives to integrating with go-libp2p: - we can integrate with basichost , as an option to newbasichost . - we can integrate with routedhost , by modifying the wrap function or adding a new constructor. - we can keep relay separate and integrate at the application layer eg go-ipfs can add the relay transport explicitly ideally, we would want to integrate with libp2p so that it's always available, but there is a difference in the two integrations in terms of capabilities of the relay, modulo 207: - if routedhost.newstream can do peer lookup 208 , then it is preferable to integrate with routedhos t so that we can support dialing to unspecific relay addresses and active relay - if routedhost.newstream will not ever do peer address discovery,, then the distinction is moot and we can just integrate through options in the newbasichost constructor. let's discuss integration approach, in terms of code complexity it's very straightforward to integrate.