 URL : "https://github.com/boooobao/SMTP-qq-send-email/issues/2" TITLE : img html send BODY : - - coding: utf-8 - - from email.mime.image import mimeimage from email.mime.multipart import mimemultipart from email.mime.text import mimetext import smtplib mail_host = smtp.qq.com mail_user = boooobao@qq.com mail_pass = def make_mpa_msg : email = mimemultipart 'alternative' text = mimetext 'hello world\r ', 'plain' email.attach text html = mimetext '<html><body><h4>hello world!</h4></body></html>', 'html' email.attach html return email def make_img_msg fn : f = open fn, 'r' data = f.read f.close email = mimeimage data, name=fn email.add_header 'content-disposition', 'attachment;filename= %s' % fn return email def sendmsg fr, to, msg : try: obj = smtplib.smtp_ssl mail_host, 465 obj.login mail_user, mail_pass obj.sendmail fr, to, msg print send successfully except smtplib.smtpexception, e: print e if __name__ == '__main__': print 'sending multipart alternative msg...' msg = make_mpa_msg msg 'from' = '红烧牛肉面' msg 'to' = '奶盐味苏打饼干' msg 'subject' = 'multipart alternative test' sendmsg boooobao@qq.com , '815467444@qq.com', msg.as_string print 'sending multipart img msg...' msg = make_img_msg 'timg.jpeg' msg 'from' = '红烧牛肉面' msg 'to' = '奶盐味苏打饼干' msg 'subject' = 'multipart alternative test' sendmsg boooobao@qq.com , '289522938@qq.com', msg.as_string