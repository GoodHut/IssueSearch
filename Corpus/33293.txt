 URL : "https://github.com/unicef/etools-issues/issues/494" TITLE : add fr numbers on pd BODY : add fr number through a modal, validate against budget. to add an fr, user clicks edit frs .. a modal shows up where the user is going to input the fr numbers. the moment the user hits ok, there is an api call to the backend at /api/v2/funds/frs?values=0400000923,0400002677&intervention=4 where the frs are passed in comma-separated and the intervention id is allso passed in if availabble. case 1: if the total_frs_amt is within 10 dollars from the total usd planned budget on that intervention.. then continue without an issue and close the modal with 'ok'.
case 2: the total_frs_amt returned from the server is greater or smaller with more than 10 dollars a warning message appears that the user has to acknowledge are you sure y/n if y then contrinue and close the modal with 'ok' otherwise close the modal with 'cancel' if the modal was closed with ok, the ids returned of all frs returned by the previous api call will now be an array property on the intervention intervention.frs = id1, id2, id3 if the modal was closed with 'cancel', it will be like nothing ever happened in the planned budget modal.. there will be a warning div frs don';t match your planned budget that will be displayed if: intervention.fr_details exists and planned_budget.total_unicef_contribution -10 < intervention.fr_details.total_frs_amt > planned_budget.total_unicef_contribution + 10 exact warning messages available in the spec