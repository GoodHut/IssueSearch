 URL : "https://github.com/apchsh/saao_scripts/issues/2" TITLE : header missing end card BODY : lr182@alice04 saao_scripts $ python safphot.py -c sha -d ../ng1421+0000_04553_all namespace c= 'sha' , d= '../ng1421+0000_04553_all' searching directory ../ng1421+0000_04553_all 37 files found. traceback most recent call last : file safphot.py , line 39, in <module> files = ps.fits_sort args.d 0 , args.c 0 , verbose=true file /scratch/ngts/lr182/follow_up/saao_scripts/photsort.py , line 40, in __init__ self.search file /scratch/ngts/lr182/follow_up/saao_scripts/photsort.py , line 85, in search f.close file /home/l/lr182/.local/lib/python2.7/site-packages/astropy/io/fits/hdu/hdulist.py , line 909, in close while self._read_next_hdu : file /home/l/lr182/.local/lib/python2.7/site-packages/astropy/io/fits/hdu/hdulist.py , line 1135, in _read_next_hdu hdu = _basehdu.readfrom fileobj, kwargs file /home/l/lr182/.local/lib/python2.7/site-packages/astropy/io/fits/hdu/base.py , line 329, in readfrom kwargs file /home/l/lr182/.local/lib/python2.7/site-packages/astropy/io/fits/hdu/base.py , line 394, in _readfrom_internal header = header.fromfile data, endcard=not ignore_missing_end file /home/l/lr182/.local/lib/python2.7/site-packages/astropy/io/fits/header.py , line 450, in fromfile padding 1 file /home/l/lr182/.local/lib/python2.7/site-packages/astropy/io/fits/header.py , line 519, in _from_blocks raise ioerror 'header missing end card.' ioerror: header missing end card. fixed by changing line 116 of photsort.py f = fits.open file_, ignore_missing_end=true