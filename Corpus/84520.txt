 URL : "https://github.com/facebook/redex/issues/217" TITLE : deadlock in the workqueue BODY : it get a deadlock on this line workqueue.cpp l84 https://github.com/facebook/redex/blob/master/libredex/workqueue.cpp l84 sample: com.facebook.katana_97.0.0.4.69.apk i don't have this problem when i revert on commit ec488c61f1602a6a56a01ab9d6b01a6486fbe63f here is there backtrace from gdb: gefâž¤ bt 0 0x00007f4a837b1756 in pthread_cond_wait@@glibc_2.3.2 from /usr/lib/libpthread.so.0 1 0x00007f4a83fa14cc in __gthread_cond_wait __mutex=<optimized out>, __cond=<optimized out> at /build/gcc-multilib/src/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/include/x86_64-pc-linux-gnu/bits/gthr-default.h:864 2 std::condition_variable::wait this=<optimized out>, __lock=... at /build/gcc-multilib/src/gcc/libstdc++-v3/src/c++11/condition_variable.cc:53 3 0x00000000005b10bb in workqueue::worker_thread priv=0xb10e30 at /home/romain/dev/redex/libredex/workqueue.cpp:84 4 0x00007f4a837ab2e7 in start_thread from /usr/lib/libpthread.so.0 5 0x00007f4a834ec54f in clone from /usr/lib/libc.so.6