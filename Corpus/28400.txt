 URL : "https://github.com/benwbrum/fromthepage/issues/537" TITLE : gallica iiif issues BODY : there are several challenges importing manifests from gallica into fromthepage: 1 navigating the top-level biblissima collection to gallica to manuscripts to the francais sub-collection blows up with an error.
undefined method label' for <iiif::orderedhash:0x007fe332150140> 2 once a work is imported, thumbnails are not displayed correctly. we are constructing the thumbnail url with default.jpg at the end, rather than native.jpg . this is a change in the spec between versions of the iiif image api, so we should look at the profile of the canvas we've imported to determine the thumbnail name to use. an additional challenge is that pontiiif doesn't seem to be finding the document based on the description, so we have to hack the url of http://gallica.bnf.fr/ark:/12148/btv1b52505635t to http://gallica.bnf.fr/iiif/ark:/12148/btv1b52505635t/manifest.json