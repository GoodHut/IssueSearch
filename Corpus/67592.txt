 URL : "https://github.com/hotosm/oam-catalog/issues/95" TITLE : problem with sort query BODY : there seems some problem with sort query. my impression is that default value for 'sort' is not properly set to 'desc'. please try following four urls to see the problem. https://oam-catalog.herokuapp.com/meta?order_by=acquisition_end&limit=100 problem https://oam-catalog.herokuapp.com/meta?sort=asc&order_by=acquisition_end&limit=100 o.k. https://oam-catalog.herokuapp.com/meta?limit=100 problem https://oam-catalog.herokuapp.com/meta?sort=asc&limit=100 o.k. i've also checked the codes in controllers/meta.js, but do you think following part is correct? // handle custom sorts, starting with default of higher resolution and // newer imagery first. do nothing if we don't have both sort and order_by. var sort = { gsd: 1, acquisition_end: -1 }; if _.has payload, 'sort' && _.has payload, 'order_by' { // custom sort, overwrite default sort = {}; sort payload.order_by = payload.sort === 'asc' ? 1 : -1; // sanitized payload payload = _.omit payload, 'sort' ; payload = _.omit payload, 'order_by' ; } else if _.has payload, 'sort' { // sanitized payload payload = _.omit payload, 'sort' ; } else if _.has payload, 'order_by' { // sanitized payload payload = _.omit payload, 'order_by' ; }