 URL : "https://github.com/rstacruz/jsdom-global/issues/31" TITLE : running jsdom with jest BODY : i'm getting this error while i'm trying to run jest tests. node: 7.11.0 npm: 4.2.0 jest: 20.0.4 /users/orfrenkel/git/mobillize/html-to-json/node_modules/jsdom/lib/jsdom/living/generated/event.js:231 throw new typeerror ${context} is not of type 'event'. ; ^ typeerror: failed to execute 'dispatchevent' on 'eventtarget': parameter 1 is not of type 'event'. at convert /users/orfrenkel/git/mobillize/html-to-json/node_modules/jsdom/lib/jsdom/living/generated/event.js:231:11 at window.dispatchevent /users/orfrenkel/git/mobillize/html-to-json/node_modules/jsdom/lib/jsdom/living/generated/eventtarget.js:88:13 at window.process.nexttick /users/orfrenkel/git/mobillize/html-to-json/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/window.js:492:14 at _combinedtickcallback internal/process/next_tick.js:73:7 at process._tickcallback internal/process/next_tick.js:104:9 i'm running require 'jsdom-global' on my setup.js jest file and also inside the file that i using jsdom i also tried to write my own code and it worked for jest but didn't work from some reason on my production server. const { jsdom } = require 'jsdom' ; const jsdom = new jsdom '<!doctype html><html><head></head><body></body></html>' ; const { window } = jsdom; function copyprops src, target { const props = object.getownpropertynames src .filter prop => typeof target prop === 'undefined' .map prop => object.getownpropertydescriptor src, prop ; object.defineproperties target, props ; } global.window = window; global.document = window.document; global.navigator = { useragent: 'node.js', }; copyprops window, global ; i will keep investigate this issue just wonted to point that out and see if there is a quick fix for this issue. thanks,