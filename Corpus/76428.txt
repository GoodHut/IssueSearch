 URL : "https://github.com/perfsonar/toolkit/issues/248" TITLE : json summary field types BODY : while trying to insert json summaries for the wlcg community perfsonars into elasticsearch we have found two issues that we think would be of general interest: 1. some of the fields are loosely typed, for example network speed field is an integer, but can change to string in case it's unknown. others are strings while it would probably make sense to have them as integers like number of cores and cpus . this causes a lot of issues in parsing and imports to elasticsearch, which expects field types to be consistent. it would be great if you could review all fields and make them consistent if something is int then ensure it stays int as this would greatly simplify parsing and imports in general. btw. specifically for es, it's best to simply remove fields that are unknown. 2. this one is related to the way elasticsearch works. in general, es expects documents with static keys, so for the case of json summaries, it's fine to add/remove keys, but key names should be fixed across documents. for example, in 4.0 interfaces were introduces like this: interfaces : { hostnames : { 10.10.128.35 : psmsu05.msulocal }, using ip address as a key implies that you have a dynamic key name, which causes an explosion in es indexing which usually brings down es . it would be better to re-structure it to keep keys static across the document, e.g.: interfaces : { hostnames : { hostname : psmsu05.msulocal , ip_address : 10.10.128.35 } }, or simply just: hostnames : psmsu05.msulocal , ...