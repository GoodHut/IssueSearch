 URL : "https://github.com/walkor/Workerman/issues/147" TITLE : timer processe disappears BODY : bash root@cubecloud-20171173:~/ffpanel_api php start.php status workerman start.php status ---------------------------------------global status-------------------------------------------- workerman version:3.3.9 php version:7.0.13-0ubuntu0.16.04.1 start time:2017-03-01 20:10:27 run 2 days 2 hours load average: 0, 0, 0 event-loop:select 2 workers 3 processes worker_name exit_status exit_count fetch_hltv 0 0 http_server 0 0 ---------------------------------------process status------------------------------------------- pid memory listening worker_name connections total_request send_fail throw_exception 8837 2m http://0.0.0.0:12101 http_server 0 28671 0 0 8836 2m http://0.0.0.0:12101 http_server 0 28648 0 0 code: php <?php require_once __dir__ . '/vendor/autoload.php'; use workerman\webserver; use workerman\worker; use workerman\lib\timer; $cron = new worker ; $cron->name = 'fetch_hltv'; $cron->onworkerstart = function $task { $time_interval = 60; $timer_id = timer::add $time_interval, function { exec 'php /root/ffpanel_api/cron.php' ; } ; }; $http = new worker http://0.0.0.0:12101 ; $http->name = 'http_server'; $http->count = 2; $http->onmessage = function $connection, $data { $yaml = file_get_contents '/tmp/api.yaml' ; $connection->send $yaml ; }; worker::runall ; 运行一两天以后定时器就会莫名其妙的消失 the timer disapper after one or two days running.