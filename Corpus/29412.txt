 URL : "https://github.com/obduk/cms/issues/841" TITLE : load models on boot BODY : currently sql is run from various gems like schemaplus when a model instance is first loaded. this usually happens on first request, which generates misleading data for various test tools and production monitoring. e.g. select a.attnum, a.attname from pg_attribute a where a.attrelid = ? and a.attnum in ? select distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef d.indexrelid , t.oid, pg_catalog.obj_description i.oid, ? as comment, select count from pg_opclass o join select unnest string_to_array d.indclass::text, ? ::int oid c on o.oid = c.oid where o.opcdefault = ? from pg_class t inner join pg_index d on t.oid = d.indrelid inner join pg_class i on d.indexrelid = i.oid left join pg_namespace n on n.oid = i.relnamespace where i.relkind = ? and d.indisprimary = ? and t.relname = ? and n.nspname = any current_schemas false order by i.relname load models on boot so this sql is executed before first web request / job run.