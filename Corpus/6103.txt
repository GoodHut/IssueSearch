 URL : "https://github.com/Tronix117/wik-devops-3tp/issues/1" TITLE : wait for mongo BODY : le problème principal qui se passe quand on ajoute des utilisateur à mongo c'est qu'il doit redemarrer. avec docker-compose on voit dans les logs que mongo démarre ajoute les utilisateur malheureusement à la db admin et non à la test ensuite après avoir fini son initialisation il s'éteint. et là au lieu de redemarrer imédiatement c'est le serveur de l'api qui démarre et finalement il ne peut pas se connecter vu que mongo est eteint. et c'est seulement après le démarrage de l'api que mongo redemarre. pour palier ce premier problème j'ai ajouter le package wait-for-mongo: v0.3.3 et l'ai utiliser dans le app.js => package.json: dependencies : { bluebird : ^3.5.1 , express : ^4.16.2 , mongoose : ^4.13.7 , wait-for-mongodb : 0.3.3 }, => app.js // lancement de la connection var waitformongo = require 'wait-for-mongodb' ; waitformongo mongouri, {timeout: 1000 60 2}, function err { if err { console.log 'timeout exceeded' ; } else { console.log 'mongodb comes online' ; mongoose.connect mongouri, { user: mongo_user, pass: mongo_password, usemongoclient: true, } .then => { mongoerror = null } .catch err => { mongoerror = err } } } ; deuxieme question: peut-on connecter l'api avec les identifiant root:12465 sur la db admin ou l'on doit vraiment le faire avec la db test ?