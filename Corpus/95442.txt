 URL : "https://github.com/NixOS/nixpkgs/issues/21629" TITLE : darwin reproducible builds BODY : issue description currently, darwin stdenv doesn't have reproducible builds. according to this post http://stackoverflow.com/questions/21765444/clang-compiler-produces-different-object-files-from-same-sources it looks like clang _should_ support reproducible builds. it looks like macos has some special pie/aslr that may be contributing to this. does anyone have insight on what's going on? perhaps passing --no_pie to llvm configure will fix something? steps to reproduce sh $ nix-build -a hello --check ... error: derivation ‘/nix/store/cq72li3c6vs7vabnlikfrz5vmjd4syj1-hello-2.10.drv’ may not be deterministic: output ‘/nix/store/la0bdn94l74vscz7bivhvi6qg7ih3v0p-hello-2.10’ differs technical details system: nixos: nixos-version , ubuntu/fedora: lsb_release -a , ... macos sierra 10.12.2 nix version: run nix-env --version nix-env nix 1.11.4 nixpkgs version: run nix-instantiate --eval '<nixpkgs>' -a lib.nixpkgsversion 17.03pre-git