 URL : "https://github.com/rhaamo/lutrainit/issues/1" TITLE : data race in getty BODY : data race for nearly all gettys spawned 2017/06/25 22:48:42 trace getty idx 3 tty tty4 user warning: data race 2017/06/25 22:48:42 info spawning getty on tty4 with user write at 0x00c4200118f0 by goroutine 29: runtime.mapassign1 /usr/local/go/src/runtime/hashmap.go:442 +0x0 main.manageandspawngettys.func1 /home/dashie/dev/go/src/github.com/rhaamo/lutrainit/lutrainit/getty.go:131 +0x1da previous write at 0x00c4200118f0 by goroutine 25: runtime.mapassign1 /usr/local/go/src/runtime/hashmap.go:442 +0x0 main.manageandspawngettys.func1 /home/dashie/dev/go/src/github.com/rhaamo/lutrainit/lutrainit/getty.go:131 +0x1da goroutine 29 running created at: main.manageandspawngettys /home/dashie/dev/go/src/github.com/rhaamo/lutrainit/lutrainit/getty.go:143 +0x644 main.managegettys /home/dashie/dev/go/src/github.com/rhaamo/lutrainit/lutrainit/gettg.go:38 +0x187 main.main /home/dashie/dev/go/src/github.com/rhaamo/lutrainit/lutrainit/main.go:130 +0x52b goroutine 25 running created at: main.manageandspawngettys /home/dashie/dev/go/src/github.com/rhaamo/lutrainit/lutrainit/getty.go:143 +0x644 main.managegettys /home/dashie/dev/go/src/github.com/rhaamo/lutrainit/lutrainit/getty.go:38 +0x187 main.main /home/dashie/dev/go/src/github.com/rhaamo/lutrainit/lutrainit/main.go: 130 +0x52b ================== 2017/06/25 22:48:42 trace getty idx 4 tty tty5 user 2017/06/25 22:48:42 info spawning getty on tty5 with user