 URL : "https://github.com/Herteby/denormalize/issues/2" TITLE : split the cache function BODY : your cache functions has become very big. it's very hard to maintain. create a lib folder and split the functionality for many, single, inversed in separate files and functions. because this way you do the check every time for type on every after update hook. and if they re-use thing among them modularize those functions too.