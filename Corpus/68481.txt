 URL : "https://github.com/zmap/zgrab/issues/262" TITLE : runtime error in logger BODY : hi there, i just built zgrab; no problem. when i tried to run zgrab --help , however, i was presented with this: panic: runtime error: invalid memory address or nil pointer dereference signal 0xc0000005 code=0x0 addr=0x30 pc=0x749c19 goroutine 1 running : github.com/zmap/zgrab/ztools/zlog.new 0xbbb1c0, 0xc04205c010, 0x8e3ecd, 0x3, 0x14 /users/tfrommen/go/src/github.com/zmap/zgrab/ztools/zlog/logger.go:100 +0x169 github.com/zmap/zgrab/ztools/zlog.init /users/tfrommen/go/src/github.com/zmap/zgrab/ztools/zlog/logger.go:77 +0x21b github.com/zmap/zgrab/zlib.init /users/tfrommen/go/src/github.com/zmap/zgrab/zlib/zgrab.go:110 +0x70 main.init /users/tfrommen/go/src/github.com/zmap/zgrab/summary.go:111 +0x86 i had a look at the logger https://github.com/zmap/zgrab/blob/5cee42af64e54ae486e9ad48cd05d294dbe296b4/ztools/zlog/logger.go , and it turned out my file stats was nil - don't ask me for a reason, i'm fairly new to go and all this. integrating a simple check for not nil solved the issue, like so: go func new out io.writer, prefix string logger { usecolor := false file, ok := out. os.file if ok { stats, _ := file.stat // check to see if output is a terminal if stats != nil && stats.mode & os.modechardevice != 0 { // <-- this changed usecolor = true } } logger := logger{ out: out, prefix: prefix, usecolor: usecolor, } return &logger } i'd be happy to send a pr, if you want.