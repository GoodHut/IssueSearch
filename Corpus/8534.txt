 URL : "https://github.com/NixOS/nixpkgs/issues/29715" TITLE : pdftk on darwin BODY : issue description this is just to note down a couple of things that i found: we are currently shipping gcj built on gcc 4.9. updating it to gcc 6.4 makes it build on darwin. the only dependency that truly needs gcj is pdftk rhino can just run on the openjdk . the latest version of pdftk is 2.0.2, its source has been released in july 2013 reverse deps of pdftk are impressive presentation tool, latest release in 2015 , diffoscope optional dependecy , mwlib python software to convert from mediawiki to formats like pdf, latest release in 2014 gcc dropped support for gcj in gcc7, and thus even on linux we might eventually drop pdftk in a few years, luckily the only actively developed dependency diffoscope seems to have it only as an optional dependency. i attempted to build pdftk on darwin, but it's failing due to it being unable to find ecj1 and gcjh. the former might be the eclipse compiler but it's not available when building gcj4.9 on linux, either and it's not clear if it's truly included with gcc i'd be surprised . the latter is a binary that would generate header files. to check if it's missing from gcj6, we should rebuild it on linux. here's a page https://stackoverflow.com/questions/32505951/pdftk-server-on-os-x-10-11 with discussion on difficulties and workarounds and alternatives with the installation of pdtk on macos to get it working on homebrew others are relying on https://github.com/turforlag/homebrew-cervezas/blob/master/pdftk.rb the prebuilt binary downloaded directly from upstream. steps to reproduce once bumped version of gcj nix-build -a pdftk technical details system: macos 10.12.6 nix version: 1.11.14 nixpkgs version: f7d7c7bedfa54b97420