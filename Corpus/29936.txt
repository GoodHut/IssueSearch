 URL : "https://github.com/thephpleague/uri-components/issues/5" TITLE : negative offset bug BODY : issue summary cannot remove the last segment system informations _ in case of a bug report please complete the table below _ | information | description | |--------------|---------| | league-uri-components version | 1.0.1 | | php/hhvm version | 7.1 | | os platform | ubuntu 16.04 | standalone code, or other way to reproduce the problem $pathstr = '/var/www/domain.com/www/static/cache/css/test.css'; $path = new hierarchicalpath $pathstr ; for $i=0;$i<10;$i++ { $path = $path->withoutsegments -1 ; echo $path, php_eol; } expected result /var/www/lifeyet.com/www/static/cache/css /var/www/lifeyet.com/www/static/cache /var/www/lifeyet.com/www/static /var/www/lifeyet.com/www /var/www/lifeyet.com /var/www /var / / / actual result /var/www/lifeyet.com/www/static/cache/css /var/www/lifeyet.com/www/static/cache /var/www/lifeyet.com/www/static /var/www/lifeyet.com/www /var/www/lifeyet.com /var/www /var /var /var /var