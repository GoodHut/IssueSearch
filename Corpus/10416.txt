 URL : "https://github.com/bartavelle/language-puppet/issues/190" TITLE : case within case BODY : hello, java::oracle puppetlabs-java is failing during parsing. i guess due to case within the case. here is the error: puppet parseerror {errorpos = sourcepos {sourcename = ./modules/java/manifests/oracle.pp , sourceline = pos 197, sourcecolumn = pos 12} :| , errorunexpected = fromlist tokens '$' :| , errorexpected = fromlist tokens ':' :| : ,tokens '{' :| , errorcustom = fromlist } at sourcepos {sourcename = ./modules/application/manifests/profile/jenkins/slave.pp , sourceline = pos 39, sourcecolumn = pos 5} here is the code: puppet case $ensure { 'present' : { archive { $destination : ensure => present, source => ${oracle_url}${release_major}-${release_minor}/${package_name} , cookie => 'gpw_e24=http%3a%2f%2fwww.oracle.com%2f; oraclelicense=accept-securebackup-cookie', extract_path => '/tmp', cleanup => false, creates => $creates_path, proxy_server => $proxy_server, proxy_type => $proxy_type, }-> case $::kernel { 'linux' : { exec { install oracle java_se ${java_se} ${version} : path => '/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin', command => $install_command, creates => $creates_path, } } default : { fail unsupported platform ${::kernel} } } } default : { notice action ${ensure} not supported. } } code is here: https://github.com/puppetlabs/puppetlabs-java/blob/master/manifests/oracle.pp l218 do you think this is a quick fix ?