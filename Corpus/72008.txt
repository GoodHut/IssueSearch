 URL : "https://github.com/tbeu/Modelica/issues/965" TITLE : arrays and member-access BODY : reported by choeger on 16 jan 2013 10:27 utc as far as i know, the following used to work in modelica at least in modification-equations for years: mo
record x real r;
end x; model m real 3 r end m; x 3 x;
m m r = x.r ; //m.r = {x 1 .r, x 2 .r, x 3 .r}; first of all, i think the rule for dot-access of arrays should be formalized into the name lookup section it could be useful outside of modifications, and i guess all tool vendors already define it that way for simplicity . second, the precedence of the array index operator needs to be defined: mo
model test record y real 3 r = {1,2,3}; end y; record x y 2 y; end x; model m real 2 r; end m; x x; m m r = x.y.r 3 ; // x. y.r 3 or x.y.r 3 ? we mean: {x.y 1 .r 3 , x.y 2 .r 3 }
end test; i found the example above in a client's propietary model. the point is that different precedence seems to yield different results. some tools accept the model while others reject it complaining about indexing an 2,3 array with only one dimension . ---- migrated-from: https://trac.modelica.org/modelica/ticket/965