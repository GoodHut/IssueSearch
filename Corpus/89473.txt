 URL : "https://github.com/neumino/rethinkdbdash/issues/322" TITLE : queries are extremly slow BODY : sensor.class.coffee configdb = require '../config/database.js' .getconfig r = require 'rethinkdbdash' configdb ... readsensorhistory: detector, callback -> self = @ subtime = 31 60 60 console.timeend fromroutetoquery console.log chalk.bgmagenta readsensorhistory {detector.type}beforeq console.time readsensorhistory {detector.type}beforeq query = r.table 'data' .filter {sensorid: @.id, detectortype: detector.type} .filter r.row 'timestamp' .lt r.now .sub subtime .run err, data -> console.timeend readsensorhistory {detector.type}beforeq console.log datalength , data.length output fromroutetoquery: 0.332ms readsensorhistoryco2beforeq node:44994 warning: a promise was created in a handler but was not returned from it, see http://goo.gl/rrqmuw readsensorhistoryco2beforeq: 14240.566ms datalength 290 versions node 7.2 & 7.4 rethinkdbdash: ^2.3.27 rethinkdb 2.3.5 clang 8.0.0 clang-800.0.38 if i do the same query in http://localhost:8090/ dataexplorer i receive a result immediately <100ms . the result contains ~531 entries like these, the db has around 2000 entries: { detectortype : co2 , id : aa566077-e0e4-4949-99ce-6fd029bbac32 , sensorid : c30c5a14-220c-4f5f-bb10-94ae45e3e17f , timestamp : thu jan 26 2017 12:31:13 gmt+00:00 , value : 1500 }