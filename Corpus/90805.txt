 URL : "https://github.com/Microsoft/TypeScript/issues/20596" TITLE : strange inference failure BODY : typescript version: 2.6.2 code ts let x: { nodes: documentfragment, _start: comment }; let iter: node | null, nodes: documentfragment; { nodes, _start: iter } = x! ; while iter { let next = iter.nextsibling; nodes.appendchild iter ; iter = next; } expected behavior: next is typed as node | null . actual behavior: next is typed as any , which raises an error under noimplicitany . comment: this is really strange because tooltips indicate that at this point iter is narrowed to node and iter.nextsibling is of course node | null . so it makes no sense that let next = iter.nextsibling isn't type as such.