 URL : "https://github.com/kubernetes/kubernetes/issues/52113" TITLE : revamp deployment tests BODY : ref: workload controllers test plan https://docs.google.com/document/d/1e2m3kd2wtfhisyyuqyx0pcugzyzcykowo4ciluojadm/edit by @enisoc unit test - refactor sync call tree so we can unit test decisions on this sync pass, create this, delete that without needing a test fixture with mocks. - remove unit tests made redundant by new integration tests below especially ones that need reactor/mock setup . integration - add testdeploymentbasic with subtests that replace basic behavior unit tests like creating replicasets, reacting to rs/pod events, orphan/adopt, etc. - add testdeploymentrollingupdate with subtests for roll out, roll back, roll over, etc. e2e convert edge case e2e tests to integration tests. - testpauseddeployment 52054 - testrollbackdeploymentrsnorevision - testdeploymentlabeladopted - testscalepauseddeployment 52054 - testscaledrolloutdeployment - testoverlappingdeployment - testfaileddeployment - testdeploymenthashcollisionavoidance cmd - test all appropriate kubectl commands. upgrade - don't pry into the replicasets. just check deployment status. the rs upgrade test will check the next layer down. @kubernetes/sig-apps-misc