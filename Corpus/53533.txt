 URL : "https://github.com/d-plaindoux/masala-parser/issues/93" TITLE : easier context builder BODY : allow a sexier way to build a context js let context = {}; // global context function combinator { return xml .then clienttitle .drop .then hotelname .map hotel=> object.assign context, {hotel} // but address need to know the hotel name .then f.lazy address // lazy to waith for context to read hotel } function address { return x.wordsuntil context.name ; } using context this should be added as a plugin with the parserfactory : js function combinator { return xml .setcontext {} .then hotelname .withcontext name,context=> {...context,name} // now context has hotel .then f.context address // will inject the context in the address } function address context { return x.wordsuntil context.name ; } console.log parsing.value, parsing.context