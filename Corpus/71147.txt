 URL : "https://github.com/ant-design/ant-design-pro/issues/394" TITLE : about router/menu config BODY : 目前，脚手架中路由和导航 menu 的生成，以及不同层级组件的渲染都是依靠 nav.js https://github.com/ant-design/ant-design-pro/blob/master/src/common/nav.js 中的配置信息，这样主要存在两个问题： - 理论上路由应该和组件渲染没有直接关系，路由 path 并不一定代表 ui 层级，比如： /user/info 并不一定需要在 /user 对应的 layout/组件 中渲染，两个路由在ui上并不是 parent 和 children 的关系，但目前这两个绑在了一起。 - 路由和 menu 并不一定是一一对应的，menu 很容易出现个性化的需求，比如某个层级不展示，或者需要在不同地方分别展示不同导航层级，当需求稍微复杂一点时，共用一份配置信息有诸多限制。 - 目前的方式不太符合 react-router@4 的风格，也在一定程度上限制了它的灵活性。 所以在 1.0 发布前，考虑这部分是否可以进行重构，大致的构想是： - 配置信息只会用来生成路由，且不再是树状，而是打平的，类似下面这样（不完整）： json { / : { name : 首页 , component : home, }, /user : { name : 用户 , component : userlayout, }, /user/userlist : { name : 用户列表 , component : userlist, model : user , loading , auth : admin , }, /user/userlist/:id : { name : 用户详情 , component : userdetail, model : user , loading , auth : admin , }, } - 具体 ui 渲染层级由具体组件代码决定，和配置信息无关。可以提供相应的工具函数方便从配置信息中获取相关参数，如 userlayout.js 中可以这样写： js <div class= content > {getroute '/user/userlist' } {getroute '/user/userlist/:id' } </div> 会生成带上相关配置信息的 route - menu 导航不再根据配置信息生成，可以自己手动构建，或另外维护一份 menu 信息用来生成导航。 大家看下是否可行~