 URL : "https://github.com/mirnylab/pairsamtools/issues/55" TITLE : adding stats to dedup BODY : in order to address https://github.com/mirnylab/distiller-nf/issues/80 we agreed to add stats to the dedup . and this: https://github.com/mirnylab/pairsamtools/blob/e725dbbd037f169a5def3891783f7b2cf3922463/pairsamtools/pairsam_dedup.py l315 looks like a proper place to add something like out_stat.add_pair algn2, algn1, pair_type techincal qs: - should we parse line_buffer i right next to where we're writing it to outstream ? - should we instead activate cols_buffer i used for mark duplicates for stats and skip parsing line_buffer i ? - stats-related: should we change stats -api, and instead of out_stat.add_pair algn2, algn1, pair_type , say out_stat.add_pair c2, p2, s2, c1, p1, s1, pair_type , where algn={'chrom':c,'pos':p,'strand':s} ? such an api change would simplify stats module itself, here https://github.com/mirnylab/pairsamtools/blob/e725dbbd037f169a5def3891783f7b2cf3922463/pairsamtools/pairsam_stats.py l78 it was written the way it is right now, in order to please and simplify parse -code, i.e. avoid unpacking align dictionaries there. what do you @golobor , @nvictus guys think ?