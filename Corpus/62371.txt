 URL : "https://github.com/desiringgod/components-rails/issues/23" TITLE : cleanup rendering specs BODY : from @benhutton: add some hooks in at the beginning and extract all the ugly away or even into a separate file, eventually , so that you could do the following: describe 'with attribute' do set_component_template <<~eos some content <%= an_attribute %> more content eos it 'works' do view_template = template <%= {component_class_name} an_attribute: 'val' %> expect render_view_template view_template .to eq <<~eos template some content val more content eos end end