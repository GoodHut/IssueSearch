 URL : "https://github.com/django/channels/issues/720" TITLE : consumer never get called BODY : i am trying to setup django channel on aws elasticbenstalk. i use elasticache redis. i got an 504 error when trying to connect. looks like the consumer function never got called. here is the consumers: in consumers.py from channels import group from channels.auth import channel_session_user, channel_session_user_from_http connected to websocket.connect @channel_session_user_from_http def ws_connect message, room_name : accept connection print 'calling ws-conncet' message.reply_channel.send { accept : true} add them to the right group group chat .add message.reply_channel group chat .send { text : '{} just got into {}'.format 'i', room_name } connected to websocket.receive @channel_session_user def ws_message message, room_name : group chat .send { text : '{}: {}'.format 'i', message 'text' } connected to websocket.disconnect @channel_session_user def ws_disconnect message, room_name : group chat .discard message.reply_channel routings: in routing.py from channels.routing import route from account.consumers import ws_connect, ws_message, ws_disconnect channel_routing = route websocket.connect , ws_connect, path=r ^/ws/ ?p<room_name> a-za-z0-9_ + /$ , route websocket.receive , ws_message, path=r ^/ws/ ?p<room_name> a-za-z0-9_ + /$ , route websocket.disconnect , ws_disconnect, path=r ^/ws/ ?p<room_name> a-za-z0-9_ + /$ , error: websocket connection to 'ws://dev-2.t4mr8n3htn.us-west-1.elasticbeanstalk.com/ws/chat/' failed: error during websocket handshake: unexpected response code: 504 version: asgi-redis==1.4.2 django==1.11.4 daphne==1.3.0