 URL : "https://github.com/meetfranz/plugins/issues/97" TITLE : deploy tinder BODY : <!--- provide a general summary of the issue in the title above --> <!--- if you want to deploy a recipe to the global repository, please prefix your issue title with deploy --> service <!--- what service is this recipe for? --> tinder link to your repository https://github.com/mszczepanczyk/franz-recipe-tinder additional information so this one involved some nasty hacking in order to force tinder to recognize facebook authentication. the problem is that window.parent.postmessage with auth credentials sent from facebook popup doesn't hit tinder's main window. i've seen people approaching this by implementing the auth flow themselves and setting facebook's generic oauth callback as the redirection url but this wouldn't work here as it's not whitelisted by tinder. injecting javascript/setting event callbacks on auth popup wouldn't work as well as it's immediately detected and authentication stops. in the end i resolved this by opening facebook's auth popup in a new browserwindow and hijacking the authentication code from it. but this approach has a major caveat - the popup window opened by tinder can't be closed during authentication, so there have to be two popups open: blank - original one and the real one. this could be solved if franz provided in it's api a way to control newly created windows. the new-window event doesn't help because the window creation can't be stopped by event.preventdefault from renderer process. sniffing http traffic from main thread would probably work too. btw groupme recipe suffers from the same thing and in it's current state logging from facebook doesn't work. literature - https://github.com/electron/electron/issues/1865 - https://github.com/jiahaog/nativefier/issues/164