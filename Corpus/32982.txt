 URL : "https://github.com/luvit/lit/issues/200" TITLE : 197 breaks coro-http BODY : fresh installation: sinister@ubuntu:~/new$ ./lit install creationix/coro-http lit version: 3.5.2 luvi version: v2.7.6 command: install creationix/coro-http load config: /home/sinister/.litconfig connecting: wss://lit.luvit.io/ fetching: 1 object fetching: 1 object fetching: 1 object fetching: 1 object fetching: 1 object including dependency: coro-channel 3.0.0 including dependency: coro-http 2.2.0 including dependency: coro-net 3.0.0 including dependency: coro-wrapper 3.0.0 including dependency: http-codec 3.0.1 installing package: creationix/coro-wrapper@v3.0.0 installing package: creationix/coro-channel@v3.0.0 installing package: creationix/coro-http@v2.2.0 installing package: creationix/coro-net@v3.0.0 installing package: luvit/http-codec@v3.0.1 done: success reduced test code: lua local http = require 'coro-http' coroutine.wrap function local res, data = http.request 'get', 'http://google.com/' p res p data end error: sinister@ubuntu:~/new$ ./luvit test.lua uncaught error: /home/sinister/new/deps/coro-channel.lua:62: /home/sinister/new/deps/coro-wrapper.lua:109: index must be a number if set stack traceback: c : in function 'assert' /home/sinister/new/deps/coro-channel.lua:62: in function </home/sinister/new/deps/coro-channel.lua:54> c : in function 'run' string bundle:init.lua :52: in function < string bundle:init.lua :47> c : in function 'xpcall' string bundle:init.lua :47: in function 'fn' string bundle:deps/require.lua :309: in function < string bundle:deps/require.lua :265>