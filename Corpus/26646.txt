 URL : "https://github.com/RobVisLab/tofmark/issues/1" TITLE : bug in warp_depth.m BODY : i'm pretty sure that warp_depth is intended to be this way: <pre><code> diff --git a/warp_depth.m b/warp_depth.m index 5b41545..2eeb4a6 100644 --- a/warp_depth.m +++ b/warp_depth.m @@ -62,7 +62,7 @@ function dtof_warped, ir_warped = warp_depth p_tof, k_gray, dtof, ir, m, n, % mapping of depth image points into 3d space lines3d = inv p_tof;0,0,0,1 ptst; nor = 1 ./ sqrt sum lines3d.^2, 1 ; - lines3d = bsxfun @rdivide, lines3d, nor ; + lines3d = bsxfun @times, lines3d, nor ; ptstof_real = repmat c_tof 1:3,: , 1, size lines3d,2 + lines3d 1:3,: . repmat dtof : ', 3,1 ; ptstof_real = ptstof_real :,flags_tof : ' == 1 ; val_idxtof = idxtof flags_tof : ' == 1 ; </code></pre>