 URL : "https://github.com/FindMyFriends/api/issues/88" TITLE : better handling with cors BODY : use something like this: map $request_method $cors_method { options 11; get 1; post 1; default 0; } server { location / { if $cors_method ~ '1' { add_header 'access-control-allow-methods' 'get,post,options'; add_header 'access-control-allow-origin' ' .example.com'; add_header 'access-control-allow-headers' 'dnt, keep-alive, user-agent, x-requested-with, if-modified-since, cache-control, content-type'; } if $cors_method = '11' { add_header 'access-control-max-age' 1728000; add_header 'content-type' 'text/plain; charset=utf-8'; add_header 'content-length' 0; return 204; } } }