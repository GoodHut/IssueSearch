 URL : "https://github.com/RohanNagar/thunder/issues/21" TITLE : verify user email account BODY : lightning needs to validate an email by sending an email to a newly registered user or newly registered email for an existing user. once lightning can validate that a user has access to the registered email the registration process can finish or an email can be added as a valid address for the account. the process will go something like this: 1. start the validation process by creating a new user and denoting the associated email as unverified. if the user already exists then just add a new email as unverified. 2. generate a unique hash and store it along side the unconfirmed field in the db. 3. append the hash as a query param to a url that points to a validation endpoint on lightning and send the url to the address you want to validate. 4. when lightning receives an email with a hash, parse the hash and confirm the user is associated with the given hash. 5. mark the email as valid in thunder. note that a user account can be viewed as unverified if there exists only one email and it's not verified. this can be useful for tracking down accounts that are registered but never verified. the end goal is to allow account recovery and general contact with our user base. - add email validation field associated with each unique address in the db - add email random hash associated with each unique address in the db - ability to generate a random hash to store in the db - ability to create a url containing an emails associated hash value as a query param - ability to parse the url containing a hash value and verify it belongs to a certain users email - ability to mark individual user emails as invalid/valid - ability to store an associated hash value along with each unique email on a user account