 URL : "https://github.com/jgm/pandoc/issues/3737" TITLE : yaml blocks issues BODY : i'be been testing extensively concatenating pandoc markdown files with yaml front-matter followed by other yaml files, and noticed some issues. if the yaml block has no values, or contains only comments, the block is treated as markdown instead — the opening or closing --- is treated as a horizontal rule, the closing ... as three-dots or ellipsis , and the comment's pound symbols as level one headers. also, when the last input file is a yaml file, i noticed that if comments precede the var definition pandoc fails to reckognize the block as yaml, and parses it as markdown: yaml --- ============================================================================== /aaa/butler.yaml ============================================================================== title: title set in butler.yaml ... ... but if i move the line title: ... before the comments lines, it works correctly. in some workflows it can be convenient to use predefined templates with commented-out front-matter variables in order to remind users of the available vars/options, along with some instructions. i understand that there are cases in which it can be tricky to distinguish between a valueless yaml block and the occurence of a genuine markdown horiziontal rule followed by another rule or a line with three dots. the same issue popped up in sublimetext's markdown-preview package: - sublimetext markdown-preview 392 https://github.com/revolunet/sublimetext-markdown-preview/issues/392 ... where the solution adopted takes in consideration the position of the potential block — ie: if it's at the beginning of the file it is likely to be yaml frontmatter. after all, valueless commented out templates are unlikely to appear in the middle of a source file.