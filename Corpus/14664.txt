 URL : "https://github.com/slaclab/anarel-manage/issues/33" TITLE : breaking up psana BODY : right now psana-conda is one big package with lots of stuff. this causes problems, one is for - developing pdsdata https://confluence.slac.stanford.edu/display/pcds/building+the+psalg+and+pdsdata+packages , you end up having two copies of pdsdata around, the old one, and the one you are developing. developing pdsdata should look like conda create --name ddl-conda psddl github clone lcls-psana/psddldata svn checkout pdsdata ... that is you just create a lightweight environment with the ddl compiler, that's all you need as a daq developer, you don't need a big conda environment with another copy of pdsdata hiding in it, as well as another copy of psddldata. so, a plan for breaking up psana-conda 1. sconstools gets its own package, and it knows how to install small things into conda environments - now we can split off any other package in the ana build system and create a recipe that installs it in a conda environment 2. psddl gets its own package 3. psddldata might not be a conda package, it is something we checkout to make psana 4. split off translator, get static openmpi link dependency out - right now psana-conda run dependencies don't specify which openmpi, but this means the translator won't run if one uses mpich 5. i'd be for a 'core' psana - all the code to parse xtc files and create events, one package 6. then more algorithmic stuff 7. of course split of things like psmon and psgeom that just use psana, but maybe figure out what that core package is and if psmon etc can just depend on that?