 URL : "https://github.com/spring/uberserver/issues/200" TITLE : bad string type check BODY : problem: a bad type checking is causing this kind of assertion errors: error datahandler.error:331 error in handling data from client: , 1 ping , traceback most recent call last : file /home/pepe/downloads/uberserver/twistedserver.py , line 37, in datareceived self.handle data.decode utf-8 file /home/pepe/downloads/uberserver/client.py , line 160, in handle self.handleprotocolcommands self.data.split , msg_limits file /home/pepe/downloads/uberserver/client.py , line 170, in handleprotocolcommands assert type split_data -1 == str assertionerror solution: replace all the string type checks of the type type var == str by isinstance var, basestring explanation: in general isinstance should be used instead of type var == whatever . moreover, the strings type is one of the best examples of that: >>> s = u'' >>> type s == str false >>> type s == unicode true >>> type s == basestring false as you can see, it becomes impossible to check the type of a string with a single comparison if isinstance is not used: >>> isinstance s, basestring true