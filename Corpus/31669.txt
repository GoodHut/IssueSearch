 URL : "https://github.com/raxod502/straight.el/issues/156" TITLE : subdirs in packages BODY : this: lisp use-package drupal-mode :recipe :type git :files drupal-mode.el drush-make-mode.el drupal :host github :repo arnested/drupal-mode :branch develop results in a build like this: shell ~~>> ll .emacs.d/straight/build/drupal-mode/ total 52k lrwxrwxrwx 1 xen xen 52 sep 26 08:17 drupal -> /home/xen/.emacs.d/straight/repos/drupal-mode/drupal/ -rw-rw-r-- 1 xen xen 3.3k sep 26 08:17 drupal-mode-autoloads.el lrwxrwxrwx 1 xen xen 60 sep 26 08:17 drupal-mode.el -> /home/xen/.emacs.d/straight/repos/drupal-mode/drupal-mode.el -rw-rw-r-- 1 xen xen 33k sep 26 08:17 drupal-mode.elc lrwxrwxrwx 1 xen xen 64 sep 26 08:17 drush-make-mode.el -> /home/xen/.emacs.d/straight/repos/drupal-mode/drush-make-mode.el -rw-rw-r-- 1 xen xen 3.6k sep 26 08:17 drush-make-mode.elc the drupal subdirectory is simply linked in, and the .el files are not byte-compiled. trying drupal/ .el causes it to copy the files in the drupal directory into straight/build/drupal-mode which means the require 'drupal/pcomplete in drupal-mode.el doesn't work.