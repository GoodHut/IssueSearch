 URL : "https://github.com/marioballano/emudore/issues/10" TITLE : double width sprites BODY : here's another patch the previous was for double height : void vic::draw_sprite int x, int y, int sprite, int row { uint8_t swid = is_double_width_sprite sprite == true ? 2 : 1; uint16_t addr = get_sprite_ptr sprite ; for int w=0;w<swid;w++ { for int i=0; i < 3 ; i++ { uint8_t data = mem_->vic_read_byte addr + row 3 + i ; for int j=0; j < 8; j++ { if isset_bit data,j { uint16_t newx = x+w + i 8 swid + 8 swid - j swid ; uint8_t side_border_offset = 0; uint8_t top_border_offset=0; uint8_t btm_border_offset=0; // 38 col mode if !isset_bit cr2_,3 side_border_offset = 8; // 24 line mode if !isset_bit cr1_,3 { top_border_offset=2; btm_border_offset=4; } if newx <= kgfirstcol+side_border_offset || y <= kgfirstcol + top_border_offset || newx > kgresx+kgfirstcol-side_border_offset || y >= kgresy+kgfirstcol - btm_border_offset { io_->screen_update_pixel newx,y,border_color_ ; } else { io_->screen_update_pixel newx,y,sprite_colors_ sprite ; } } } } } }