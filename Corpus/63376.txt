 URL : "https://github.com/tbalthazar/onesignal-ruby/issues/15" TITLE : doesn't work from model BODY : so i have this script to send notifications using your gem encoding: utf-8 require net/http require uri module utility extend self def send_web_push_notification user, message, url params = { app_id: 'eaca986b-f950-481c-a872-xxxxxx', contents: { en: message }, ios_badgetype: 'none', ios_badgecount: 1, include_player_ids: user.onesignal_id , url: url } begin response = onesignal::notification.create params: params p response notification_id = json.parse response.body id recipients = json.parse response.body recipients p notification_id p recipients rescue onesignal::onesignalerror => e puts --- onesignalerror : puts -- message : {e.message} puts -- status : {e.http_status} puts -- body : {e.http_body} end end end when i call the method from the console it works like a charm > utility.send_web_push_notification user, 'my message', 'my url' but when i try to do it from a model, it doesn't works and i don't get any exception in the log class revision < applicationrecord after_create :send_notification def send_notification user = user.first utility.send_web_push_notification user, 'a new text was assigned to you', 'my url' end end do you know what i could be doing wrong? rails 5.1 ruby 2.4.0