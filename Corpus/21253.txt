 URL : "https://github.com/w4sp-book/w4sp-lab/issues/16" TITLE : error starting lab BODY : the lab was working fine after initial setup in chapter 2, but when i went to use it again in chapter 5, i get the error below. details: when i boot the vm, i was prompted to update virtualbox -- so i did. since, i've also ran the kali update as per the setup instructions on this site sudo apt-get update && sudo apt-get dist-upgrade . but i'm still get the same error. the syntax of the failing command seems ok to me. i have no problem manually downloading and opening the public key file https://packages.elastic.co/gpg-key-elasticsearch in the text editor. in-fact, i can manually run the entire command without error. w4sp-lab@w4sp:~/downloads/w4sp-lab-master$ sudo python w4sp_webapp.py 'which', 'dumpcap' 'getcap', '/usr/bin/dumpcap' caps set correctly on dumpcap not enough w4sp/labs images found, building now /home/w4sp-lab/downloads/w4sp-lab-master/images 'docker', 'build', '-t', 'w4sp/labs:base', 'base' 'docker', 'build', '-t', 'w4sp/labs:elk', 'elk' the command '/bin/sh -c wget -qo - https://packages.elastic.co/gpg-key-elasticsearch | sudo apt-key add -' returned a non-zero code: 2 traceback most recent call last : file w4sp_webapp.py , line 499, in <module> w4sp.docker_build 'images/' file /home/w4sp-lab/downloads/w4sp-lab-master/w4sp_app/utils.py , line 102, in docker_build r 'docker build -t $image_name $image' file /home/w4sp-lab/downloads/w4sp-lab-master/w4sp_app/utils.py , line 83, in r return subprocess.check_output cmd file /usr/lib/python2.7/subprocess.py , line 219, in check_output raise calledprocesserror retcode, cmd, output=output subprocess.calledprocesserror: command ' 'docker', 'build', '-t', 'w4sp/labs:elk', 'elk' ' returned non-zero exit status 2