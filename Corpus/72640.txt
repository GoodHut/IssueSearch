 URL : "https://github.com/ros-drivers/rosserial/issues/341" TITLE : cann't receive /map data BODY : i can receive odom data but cantn't get /map data in windows. include stdafx.h include <string> include <stdio.h> include ros.h include <nav_msgs/occupancygrid.h> include <nav_msgs/odometry.h> include <nav_msgs/mapmetadata.h> include <windows.h> using std::string; void map_callback const nav_msgs::occupancygrid &map { printf received map: ; printf \tmap info: %d %d, r %f , map.info.width, map.info.height, map.info.resolution ; } void metadata_callback const nav_msgs::mapmetadata &meta { printf received mapmetadata... ; } void odom_callback const nav_msgs::odometry &odom { printf received odometry... ; printf odom data: ; printf \tpose: %f,%f,%f , odom.pose.pose.position.x, odom.pose.pose.position.y, odom.pose.pose.position.z ; printf \torient: %f,%f,%f,%f , odom.pose.pose.orientation.x, odom.pose.pose.orientation.y, odom.pose.pose.orientation.z, odom.pose.pose.orientation.w ; } int _tmain int argc, _tchar argv { ros::nodehandle nh; char ros_master = 10.10.14.40 ; printf connecting to server at %s , ros_master ; nh.initnode ros_master ; printf advertising map message ; ros::subscriber < nav_msgs::occupancygrid > mapsub map , &map_callback ; ros::subscriber < nav_msgs::odometry > odomsub odom , &odom_callback ; ros::subscriber < nav_msgs::mapmetadata > metasub map , &metadata_callback ; nh.subscribe metasub ; //nh.subscribe odomsub ; printf waiting to receive map data ; while 1 { nh.spinonce ; sleep 100 ; } printf all done! ; return 0; }