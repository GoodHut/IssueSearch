 URL : "https://github.com/namhyung/uftrace/issues/165" TITLE : plt restoring problem BODY : here is the problematic scenario. $ clang --version clang version 4.0.0-1ubuntu1 tags/release_400/rc1 target: x86_64-pc-linux-gnu thread model: posix installeddir: /usr/bin $ uftrace record --force /usr/bin/clang hello.c warn: too deeply nested calls: 1024 in more details $ uftrace record --force -vv /usr/bin/clang ~/hello.c ... mcount: module: /usr/lib/llvm-4.0/bin/clang id: 0 , addr = 5647d5a55000, pltgot = 0x5647d7821ed0 symbol: loaded 1568 symbols mcount: found got at 0x5647d7821ed0 plt resolver: 0 mcount: restore 0 __cxa_finalize: 0x7f6efc339550 mcount: restore 1 llvm::cl::tokenizewindowscommandline: 0x7f6efd80e430 ... mcount: restore 1566 puts: 0x7f6efc36f920 mcount: restore 1567 strcpy: 0x7f6efc3a4d10 mcount: update module id to 0x5647d92d6340 mcount: mcount setup done mcount: preparing shmem buffers uftrace: msg session: 14157: /usr/lib/llvm-4.0/bin/clang e5e5a83d17f514e4 uftrace: msg start: /uftrace-e5e5a83d17f514e4-14157-000 uftrace: msg task_start : 14157/14157 warn: too deeply nested calls: 1024 i found the commit that causes this problem. - bd4a1a7 plthook: restore already resolved plt entries the problem is disappeared after simply revert it.