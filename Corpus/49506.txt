 URL : "https://github.com/ktoddbrown/soilDataR/issues/6" TITLE : treatments data frame BODY : treatments need to be pulled out to their own data frame. given the below example site_name | profile_name | soil org c | soil org c sigma | soil org c unit | soil org c method | bulk density g cm-3 | ph | time on shelf yrs -- | -- | -- | -- | -- | -- | -- | -- | -- super secret site | sediment_10 | 0.3 | 1.2 | g cm-3 | lab method 4 | 1 | 7 | 0 super secret site | sediment_30 | 0.1 | 2 | g cm-3 | lab method 4 | 1.02 | 3 | 0 super secret site | sediment_10 | 0.3 | 1.2 | mg cm-3 | lab method 6 | 0.5 | 7 | 10 with this key: header | var | dataframe | class | type | hardunit -- | -- | -- | -- | -- | -- site_name | site_name | field | factor | na | na profile_name | profile_name | field | factor | na | na soil org c | soc | sample | numeric | value | na soil org c sigma | soc | sample | numeric | sigma | na soil org c unit | soc | sample | factor | unit | na soil org c method | soc | sample | character | method | na bulk density g cm-3 | bd_sample | sample | numeric | value | g cm-3 ph | ph | sample | numeric | value | na time on shelf yrs | storage_time | treatment | character | value | yr the process from template function breaks. you can hack it by renaming the profiles uniquely and treating the treatment as if it was a measurement, see the soils-long-tail-recovery/hackathon/example.