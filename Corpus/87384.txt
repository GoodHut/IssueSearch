 URL : "https://github.com/gluster/glusterfs/issues/284" TITLE : lazy size update in shard BODY : during inode modification ops, shard needs to execute an extra network call to update the aggregated size xattr through xattrop. this further gets blown up with afr in the stack where the xattrop is turned into a metadata transaction with 3/5 network calls. moving the size update operation outside the data path should hopefully make sharded vols perform very close to non-sharded volumes. this should help vm image store and gluster-block use cases.