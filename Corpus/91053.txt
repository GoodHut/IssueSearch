 URL : "https://github.com/rust-lang/rust/issues/44699" TITLE : support singleton queries BODY : i was talking to @michaelwoerister the other day and he observed that a lot of our queries wind up a taking a cratenum as argument and b only being valid for the local_crate . some examples: - crate_variances - typeck_item_bodies - borrowck - crate_inherent_impls - crate_inherent_impls_overlap_check it seems like it might be nice to support singleton queries, where there is no key at all. these queries could forego the hashmap and just be stored in a refcell<option<...>> . they would be invoked like tcx.crate_variances .