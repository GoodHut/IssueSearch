 URL : "https://github.com/joeferner/node-http-mitm-proxy/issues/149" TITLE : upgradereq is undefined BODY : when use mitm proxy against github, it throws exception says ctx.clienttoproxywebsocket.upgradereq is undefined and hence cannot read property 'url' of undefined i think it is to do with upgradereq no longer exist in websocket 3.0: https://github.com/websockets/ws/issues/1114 as the version number in package for ws is 3.2.0, i guess it explains why.