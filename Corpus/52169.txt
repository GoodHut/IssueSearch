 URL : "https://github.com/cnlohr/esp82xx/issues/61" TITLE : cannot upgrade via web BODY : just accurately merged new fresh downloaded lib into my firmware and found a problem: i cannot upgrade mpfs or firmware via web interface. i have added some debug outputs to commonservices.c and can see that it receives strange data from web end. it succesfully parses commands but strangely erased blocks in sequence of 8, 12, 13, 14.. . i have tried to see which data comes to spi_flash_write 'x' command and found nothing that looks like my firmware files - and data received looks strange. it received as 99 00 33 00 00 66 00 00 44 00 00 11 00 44 00 00 00 00 00 11 00 44 00 66 cc 77 cc 00 00 00 00 00 instead of e9 03 00 60 04 00 10 40 00 00 10 40 6c 7c 00 00 when i have commented colon2++ just after flash_protection_boundary check , i got my first 'e' back, so i think that or we do not getting a char from web, or we do not should skip this char from dara received. next, i was wondered by 'r1 = r2 = fromhex1 colon2++ ;' line. it assigns same values to both variables and check all these variables later one by one! hmmmm, maybe some compilers calls fromhex1 twice from this code? i have de-composed this line to: r1 = fromhex1 colon2++ ; r2 = fromhex1 colon2++ ; and wow! it started to work. so, i have one question and one proposal. 1. why colon2 was incremented and its value was skipped ? maybe something wrong here? 2. please, return two calls to fromhex1 back! some compilers with some optimization settings can raise headache to users in this place. thanks!