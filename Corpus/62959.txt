 URL : "https://github.com/fchollet/keras/issues/7646" TITLE : custom metrics function BODY : in the process of using keras, an end-to-end prediction task is required, and a custom evaluation function is required. the evaluation uses fscore here, but when calculating fscore, it is not calculated for each position in other words, the background of the original image is large , calculate the acc when the phenomenon of high height , but the custom metrics function, you can not know y_true, y_pred these two tensor, and therefore can not remove the background. problem description see below: ! 1 https://user-images.githubusercontent.com/24794718/29298283-40bf2a5e-8199-11e7-9f14-7924cfa62622.png when calculating fscore, only 1 and -1 predictions are calculated and the prediction of 0 is removed. so in the custom metrics function, how should read y_true and y_pred these two tensor, or how to remove the background, there is no similar way or ideas to provide, be grateful!