 URL : "https://github.com/palantir/streams/issues/22" TITLE : can we upgrade guava? BODY : we have guava runtime at 18.0, i assume due to usage in our products. what would it take to upgrade? if we're able to take 23.1+, we could create pre-sized immutablelist/map/set collectors see https://github.com/google/guava/blob/v23.1/guava/src/com/google/common/collect/immutablelist.java l728 , which could reduce a lot of unnecessary copies when people are doing simple things like maps where they necessarily know the size of the resulting collection. for example we could add something like the following to morecollectors : public static <t> collector<t, ?, list<t>> toimmutablelist int expectedsize { return collector.of -> new immutablelist.builder<t> expectedsize , immutablelist.builder::<t>add, left, right -> left.addall right.build , immutablelist.builder::build ; }