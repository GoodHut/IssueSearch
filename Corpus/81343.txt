 URL : "https://github.com/containers/virtcontainers/issues/439" TITLE : wip add multi os support BODY : problem statement one key advantage of clear containers over runc containers is the ability for each container/pod to run on top of its own kernel and guest image. for customized workloads like e.g. nfv ones, this is very important as they sometimes need some specific kernel features that can be mutually exclusive with other workload needs. unfortunately, the oci runtime specifications do not allow yet for specifying a kernel and guest image and thus clear containers can only use a default path for each of those, as defined in the configuration.toml file. proposed solutions we want to be able to define a kernel and a guest image paths per container/pod. for that we are looking at 2 solutions: short term: annotations as a short term solution we are going to use virtcontainers namespaced annotations for passing a kernel and guest image path: go // kernelpath is an pod annotation for passing a per container path pointing at the kernel needed to boot the container vm. kernelpath = com.github.containers.virtcontainers.kernelpath // imagepath is an pod annotation for passing a per container path pointing at the guest image that will run the container vm. imagepath = com.github.containers.virtcontainers.imagepath long term: oci specification changes code path the virtcontainers code path should be identical for both solutions: the pod.go will trap pod creation request and modify its config.hypervisorconfig structure if there is an imagepath and/or kernelpath annotation as part of its podconfig