 URL : "https://github.com/nodemcu/nodemcu-firmware/issues/1700" TITLE : tls connection model BODY : and hello again! so after net module was rewrote with plain lwip, the next target is secure connections. and there are very complex things to do. everyone knows what is espconn ... so, without it, we can't uniform secure and plain connections anymore. and we should find a simple, stable and reusable solution to get it back. proposal this is my look on problem. comments are welcome. 1. now we are have client_ssl_enable definition and tls module. i propose to merge them together, so tls module enables ssl globally. 2. since tls module are entry point for ssl, write connection wrapper in it that establishes random pool, ca store, verification, contexts, and more . 3. define something like tls_pcb tcp_pcb_wrap_tls tcp_pcb pcb that wraps plain tcp connection into tls and manages callbacks like original. so we achieve unified callbacks for receive, sent, disconnection/error callbacks. also, of course, define send method for encrypted connection. after this part, there will be an options like add custom certificate validation e.g. against public key , and more. but outgoing connection like it works before is main goal.