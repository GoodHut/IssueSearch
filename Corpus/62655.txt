 URL : "https://github.com/stripe/gaps/issues/38" TITLE : corrupted session state BODY : steps to recreate 1. be gsuite admin 2. create new project here: https://console.developers.google.com/apis/library 3. on same page, search for and enable admin sdk , google+ api and group settings api 4. configure consent screen here: https://console.developers.google.com/apis/credentials/consent 5. create credentials here: https://console.developers.google.com/apis/credentials 6. select oauth client id, choose web application as application type take note of id & secret 7. clone https://github.com/stripe/gaps 8. edit docker-compose.yml to look like: yaml version: '2' services: web: build: . ports: - 3500:3500 links: - mongo environment: - mongodb_url=mongodb://mongo/mongo - rack_env=development - favicon_url= - gaps_url=http://localhost:3500 - org_domain=example.com - org_name=example - oauth_client_id=<client id> replace - oauth_client_secret=<client secret> replace - oauth_redirect_url=http://localhost:3500/oauth2callback - session_secret=123 mongo: image: mongo 9. run docker-compose up 10. navigate to http://localhost:3500/ http://localhost:3500/ 11. click sign in 12. select gsuite admin user 13. click allow 14. observe error message: you seem to have corrupted session state. try logging in again? looks like something went wrong : 15. be sad ðŸ˜ž