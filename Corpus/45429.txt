 URL : "https://github.com/rust-lang/rust/issues/43754" TITLE : ice: const_fn feature BODY : rust ! feature const_fn const fn foo x: usize -> usize { return x; } fn main { 0; foo 2 ; } or rust ! feature const_fn const unsafe fn foo x: usize -> usize { return x; } fn main { 0; unsafe {foo 2 } ; } note: rustc 1.21.0-nightly cbbe17aa7 2017-08-07 running on x86_64-apple-darwin ices with: compiling hello v0.1.0 file:///users/blackanger/work/box/data/apps/rust/hello/hello error: internal compiler error: src/librustc_mir/hair/cx/expr.rs:472: constant evaluation of repeat count yielded tuple note: the compiler unexpectedly panicked. this is a bug. note: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/contributing.md bug-reports note: rustc 1.21.0-nightly cbbe17aa7 2017-08-07 running on x86_64-apple-darwin thread 'rustc' panicked at 'box<any>', src/librustc_errors/lib.rs:486:8 note: run with rust_backtrace=1 for a backtrace.