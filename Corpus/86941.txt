 URL : "https://github.com/danr/libkak/issues/5" TITLE : infinite loop on lsp-sync BODY : hi i'll brain-dump the start of my investigation in this thread. relevant content of my kakrc file: decl str lsp_servers %{ javascript:node ~/code/github/javascript-typescript-langserver/lib/language-server-stdio.js } when i execute node ~/code/github/javascript-typescript-langserver/lib/language-server-stdio.js in a shell, there's no crash, it just waits quietly. so i assume this node script works correctly. then i start an empty kakoune: kak -s test and run a lspc.py in another terminal: python lspc.py test -d -v debug info are displayed. now in the running kakoune, i try to open a js file: :e test.js the hook is triggered which call :lsp-sync this is where lspyc goes rogue, eating all my cpu: … error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: error deserializing server output: … which corresponds to this line https://github.com/danr/libkak/blob/13cab3925020a5c6828dc640fd043eb5fd7c9c1d/langserver.py l109 so it appears that the content variable is empty and therefore not a valid json.