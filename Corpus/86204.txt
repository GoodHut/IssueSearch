 URL : "https://github.com/pyhys/minimalmodbus/issues/22" TITLE : handling multiple masters BODY : imagine a case where i have more than one usb <=> rs485 modbus dongles on one machine. and further imagine that each rs485 modbus has more than one slave attached to it. in fact, in our testing environment, that's exactly what we're facing. unless i'm mistaken, minimalmodbus is not set up to handle multiple masters nor multiple slaves on one bus. i see two problems in the current structure: communication parameters are all class variables e.g. minimalmodbus.baudrate and cannot be set per master. port names e.g. com4 or /dev/cu.usb01 are associated with the instrument and not with the master. so, some release in the future might consider a refactoring to make this kind of thing possible: mastera = minimalmodbus.master 'com4' mastera.baud_rate = 19200 mastera.timeout = 0.01 masterb = minimalmodbus.master 'com5' masterb.baud_rate = 38400 instrumenta1 = minimalmodbus.instrument mastera, 1 modbus address 1 instrumenta2 = minimalmodbus.instrument mastera, 2 modbus address 2 instrumentb1 = minimalmodbus.instrument masterb, 1 modbus address 1 i'd welcome thoughts and discussion on whether or not this is a good direction.