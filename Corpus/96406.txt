 URL : "https://github.com/inspirehep/inspire-query-parser/issues/73" TITLE : es-visitor: date bugfixing BODY : so, it seems that date queries in es are not working, as some records are missing some of the date fields that we are querying on. range : { date_field1 : { gt : 2017 }, date_field2 : { gt : 2017 }, ... } thus we need to generate a chain of bool.should range1, range2, ... kind of query. this is for >, >=, <, <= operators. the tricky part would be the equality , which comes from queries d 2016 or d = 2017-08 . these have to be expressed in range queries, as well. for this, it will be helpful to look into visitor_utils .