 URL : "https://github.com/bahmutov/available-versions/issues/27" TITLE : check if response is json BODY : before trying to serialize response from the server function onnpmversions err, response, body { if err { console.error 'error when fetching info for package', name ; return deferred.reject new error err.message ; } var result = {}; try { var info = json.parse body ; first check the response. sometimes the server on wifi is not allowed to make requests, so it fails badly processing html page. - need better response check if response is not json, throw error: expected json response but got html response from host: 'n68.network-auth.com' and print contents of the response?