 URL : "https://github.com/celery/kombu/issues/803" TITLE : fail to interact with swig BODY : i have a 3rd-party lib written in c++ and it works fine with swig and python cmd module. the sample code are as following: from elib import eventhandler,controller import cmd class myshell eventhandler, cmd.cmd : def __init__ self : eventhandler.__init__ self cmd.cmd.__init__ self self.ctl = controller self.ctl.seteventhandler self def do_version self,arg : self.ctl.getversion def onversion self,version print 'version is {0}'.format version shell = myshell shell.cmdloop none to use the library, the class must implement some pure virtual function such as onversion, onmessage,..etc, so if i call do_version function, it will response to onversion function from the lib. now,my task is to migrate the code into the consumer of kombu, the sample code is as below: class worker eventhandler,consumermixin : def __init__ self, connection, in_queue, out_queue : self.connection = connection self.in_queue = in_queue self.out_queue = out_queue self.producer = connection.producer eventhandler.__init__ self self.ctl = controller self.ctl.seteventhandler self def getversion self,arg : self.ctl.getversion def onversion self,version print 'version is {0}'.format version then i got 'swig::directormethodexception' message and the worker was aborted automatically. is the problem caused by swig fail to call the callback function inside consumer? i have no idea about it and appreciated of any suggestion.