 URL : "https://github.com/ocaml-ppx/ocamlformat/issues/47" TITLE : first class modules BODY : hello, i found a couple errors on our code base using v0.2 - in an interface file same as 29 which was fixed for implementations : ocaml module type s = sig end type t = module s - patterns are rewritten without parens: ocaml module type s = sig val x : int end module m = struct let x = 0 end let m = module m : s let = let module m : s = m in error here the pattern line gets rewritten as let module m : module s = m in which is invalid syntax. i think that it's the same issue but: ocaml module type s = sig val x : int end module m = struct let x = 0 end let m = module m : s let f module m : s as u = error here ignore u; m.x the error line gets rewritten as let f module m: s as u = ignore u ; m.x - module constraints are not rewritten correctly ocaml module type s = sig type a val va : a type b val vb : b end let f module m : s with type a = int and type b = int = m.va + m.vb the last line gets rewritten as let f module m: s with type a = int and b = int = m.va + m.vb . note the missing type . thanks a lot!