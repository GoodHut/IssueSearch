 URL : "https://github.com/michaljuhas/SQL-training-advanced/issues/2" TITLE : hints on s05-l03 practice BODY : i happened to notice my solution is 5x faster than the one in the text book. after checking the execution plan, i understand that your solution did not use any indexes/keys at all but mine uses the following several indexes. here is my solution for the reference. sql set @inquiry_date = '2000-01-01'; set @company_average := select round avg salary_amount , 2 from salary where @inquiry_date between from_date and to_date ; select department.id, department.name, avg salary.salary_amount , @company_average as company_average_salary, case when avg salary.salary_amount > @company_average then 'higher' when avg salary.salary_amount = @company_average then 'same' when avg salary.salary_amount < @company_average then 'lower' end as department_vs_company from salary, department_employee_rel, department where salary.employee_id = department_employee_rel.employee_id and department_employee_rel.department_id = department.id and @inquiry_date between salary.from_date and salary.to_date group by department.id , department.name ;