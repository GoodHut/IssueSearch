 URL : "https://github.com/zeit/next.js/issues/2848" TITLE : jwt login - initialize app BODY : i am looking for code design pattern guidelines here. i call this code on every page which requires auth, basically for jwt login check and server side rendering static async getinitialprops { req, store, isserver, pathname, query } { let token = null; let slug = null; if isserver { token = req.cookies 'x-access-token' ; subdomain = req.headers.host.split '.' 0 ; } else subdomain = window.location.host.split '.' 0 ; const state = store.getstate .authreducer; if !state.token await store.dispatch initapp token, slug ; if !state.iscompanydatafetched await store.dispatch initappcompany subdomain ; return {}; } are there any alternates to wrap this around some parent container maybe?