 URL : "https://github.com/freedomofpress/securedrop/issues/1814" TITLE : tests failing on develop BODY : testjournalist2fa.test_totp_reuse_protections failed on the last travis build https://travis-ci.org/freedomofpress/securedrop/builds/243119371 of develop. traceback: =================================== failures =================================== ________________ testjournalist2fa.test_totp_reuse_protections _________________ self = <tests.test_2fa.testjournalist2fa testmethod=test_totp_reuse_protections> def test_totp_reuse_protections self : ensure that logging in twice with the same totp token fails. resp = self._login_user self.assertredirects resp, url_for 'index' resp = self._login_user > self.assert200 resp tests/test_2fa.py:53: _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ /usr/local/lib/python2.7/dist-packages/flask_testing/utils.py:329: in assert200 self.assertstatus response, 200, message /usr/local/lib/python2.7/dist-packages/flask_testing/utils.py:317: in assertstatus self.assertequal response.status_code, status_code, message e assertionerror: http status 200 expected but got 302