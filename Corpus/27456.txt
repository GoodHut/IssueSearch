 URL : "https://github.com/antirez/redis/issues/4242" TITLE : deadlock in rdbsave BODY : hello, issue encountered that the background rdb save child get stucked, we believe that it is because the serverlograw uses localtime that calling __tz_convert is not async-signal-safe, which means, it could get deadlocked after fork. fbt is listed below $sudo pstack 15378 0 0x00007f815e14109e in __lll_lock_wait_private from /lib64/libc.so.6 1 0x00007f815e0e6cdd in _l_lock_2163 from /lib64/libc.so.6 2 0x00007f815e0e6a97 in __tz_convert from /lib64/libc.so.6 3 0x000000000042870c in serverlograw 4 0x00000000004288bc in serverlog 5 0x00000000004449cc in rdbsave 6 0x0000000000444c01 in rdbsavebackground 7 0x0000000000440159 in startbgsaveforreplication please conform and help to fix it. thanks