 URL : "https://github.com/rust-lang/rust/issues/46635" TITLE : proc macro privacy issue BODY : hi. i'm not sure whether it is a bug or not, that may be an hygiene issue. but, in the following repository https://github.com/antoyo/proc-macro-private-bug , if you run it with cargo build , you get the following error: error e0451 : field my_field of struct mystruct is private --> src/main.rs:12:5 | 12 | pp! mystruct ; | ^^^^^^^^^^^^^^ field my_field is private however, that does not make sense, because the field is declared in the same module https://github.com/antoyo/proc-macro-private-bug/blob/master/src/main.rs : struct mystruct { my_field: i32, } fn main { pp! mystruct ; // error: field my_field of struct mystruct is private. } this only happens when this feature https://github.com/antoyo/proc-macro-private-bug/blob/master/cargo.toml l10 is enabled. what makes me think this might be an hygiene issue is that i hard-coded the field name here https://github.com/antoyo/proc-macro-private-bug/blob/master/pp/src/lib.rs l16 . so, if it's a bug, please fix this issue. thank you.