 URL : "https://github.com/fcrepo/fcrepo-specification-atomic-operations/issues/3" TITLE : clarify merge behavior BODY : it is currently unclear what correct behavior is for batch operations in which writes to the same resource are interleaved. this can occur in both a single-node and a distributed context, as well as in a synchronous or asynchronous environment. this can be especially ambiguous for non-idempotent operations, such as patch: interleaving of multiple patch non-idempotent operations time resource operation session comment 15:00:00 /foo post none /foo is created as an empty rdf resource 15:00:01 /foo patch 1 insert { <> dc:title one } where {} 15:00:02 /foo patch 2 insert { <> dc:title two } where {} 15:00:03 commit 2 <> dc:title two is added to /foo 15:00:04 commit 1 conflict? or overwrite? or append? but ambiguities can also arise in the context of idempotent operations: interleaving of idempotent put+delete operations time resource operation session comment 15:00:00 /foo post none /foo is created as an empty container 15:00:01 /foo/1 put 1 /foo/1 is created in session 1 15:00:02 /foo delete 2 /foo is deleted in session 2 15:00:03 /foo/2 put 1 /foo/2 is created in session 1 15:00:04 commit 2 /foo is deleted 15:00:05 commit 1 conflict? or put-uncontained? in both cases, the question arises about how to merge the operations being applied to the given resource.