 URL : "https://github.com/revive-adserver/revive-adserver/issues/845" TITLE : error in delivery caching BODY : during testing of revive adserver, a issue has been found with the delivery of banners. the issue cannot be reliably repeated yet, so what is known is listed below, and will be looked at as a matter of due course. at the very least the max_cacheget functions need to be able to handle the relevant error constant returned by lower level issues or the lower level issues need to handle errors differently... the issue has been seen at least as far back as revive adserver 3.2.5. the case this has been seen with in testing was with delivery of a sql image banner. during deliver, the max_cacheget functions are calling the oa_dal_delivery_get functions. the latter can return the oa_delivery_cache_function_error constant function call returned an error . the former functions, however, are not built to expect such condition and will always use the result as an array. in the case seen case, max_cachegetcreative calls oa_dal_delivery_getcreative , which returns the error string, but treats it as an array and ends up replacing the character at position 0 due to some php weirdness, which may end up being an error in php 7.2+ . this results in a cache file that looks like in the example case : <?php $cache_contents = array 'cache_contents' => 'sunction call returned an error', 'cache_name' => 'creative^468x60.png@revive-test.fornax.net', 'cache_time' => 1494218042, 'cache_expire' => null, ; $cache_complete = true; ?>