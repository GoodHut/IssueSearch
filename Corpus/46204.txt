 URL : "https://github.com/Netflix/atlas/issues/628" TITLE : load testing tags api BODY : i have been running load tests roughly based on these gatling tests https://github.com/brharrington/atlas-load-test . i have a mixed load simulation in place where a mixed load is generated as follows: - 1,000,000 unique metrics are published at a 30second step interval. the number of unique dimension keys for these metrics is < 20, in other words they have a relatively low cardinality. - 10 users query the /api/v1/tags endpoint to list dimension keys server limit is 1000 , at a random interval between 10s and 120s. my initial results show that the tags keys listing consistently 503s the server request-timeout is set to 10s . from the jmx metrics, i see queues building up in the localdatabaseactor instance - could this be the reason for the latency that i am observing? i have seen a different approach to fulfilling requests in the graph api, where an imperativerequestcontext is used / actor per request model. in the tags api, however, the ask pattern is used, with a timeout of 60 seconds. if the queueing is indeed the reason for the latency, could it be because the default timeout of 60 seconds does not match the request timeout, causing the db actor mailbox to drain more slowly?