 URL : "https://github.com/ktbyers/netmiko/issues/364" TITLE : configuring a switch BODY : hi, i've written a piece of code to configure cisco switches. i've tried to load it from a file and now also using a generator to split it into multiple pieces since i was running into a valueerror failed to exit configuration mode . i've tried it on 2960x/s and 3560v2 switches. please let me know if you need anything else. traceback most recent call last : file /usr/lib/python3.4/threading.py , line 920, in _bootstrap_inner self.run file /usr/lib/python3.4/threading.py , line 868, in run self._target self._args, self._kwargs file /home/dorlab01/devel/scripts/sw_config_execute_dir.py , line 25, in threader execute worker file /home/dorlab01/devel/scripts/sw_config_execute_dir.py , line 84, in execute exit_config_mode=true file /usr/local/lib/python3.4/dist-packages/netmiko/base_connection.py , line 912, in send_config_set output += self.exit_config_mode file /usr/local/lib/python3.4/dist-packages/netmiko/cisco_base_connection.py , line 48, in exit_config_mode pattern=pattern file /usr/local/lib/python3.4/dist-packages/netmiko/base_connection.py , line 869, in exit_config_mode raise valueerror failed to exit configuration mode valueerror: failed to exit configuration mode the specific piece of code: result.append net_connect.send_config_set config_commands=lists, max_loops=max_loops, delay_factor=delay_factor, exit_config_mode=false