 URL : "https://github.com/Automattic/notifications-panel/issues/185" TITLE : fix seen and newnote BODY : we have confusing code around the combination of marking notes as seen and animating the orange unseen notifications dot. recent work in d7648 to try and fix this for iframe versions of the notifications panel. the desired behavior is simple: - orange dot should be on if there are unseen notifications - orange dot should be off if there are no unseen notifications - orange dot should animate-to-on when a new notification arrives problems and data races occur because we are reporting seen via messages to the host component/page and it's controlling the dot. also we should consider removing the complicated logic used to mark all notes as seen and instead utilize the react componentdidmount method to mark individual notes as seen as soon as they render. that code should not be running unless the app is both visible and the note itself has rendered.