 URL : "https://github.com/pyca/cryptography/issues/3424" TITLE : fix idna exception BODY : version 2.3 released today contains this change: https://github.com/kjd/idna/commit/ebefacd3134d0f5da4745878620a6a1cba86d130 this causes one of our tests to fail and our documentation to be wrong, as unicodeerror is no longer the base exception class for errors with idna encode/decode. the simplest fix is probably to just add to wrapper functions _idna_encode and _idna_decode that just try: idna.{en,de}code except idnaerror: raise unicodeerror