 URL : "https://github.com/hashicorp/vault-ruby/issues/159" TITLE : vault is sealed error BODY : hi, could anyone give some advice. we are using vault, our env: - vault v0.9 - vault gem 0.10.1 - postgres as a storage and periodically we have got an error, vault getting sealed, and any request return 503 vault is sealed . only restarting can help. here is a related vault logs: disconnected from log stream. there may be events happening that you do not see here! attempting to reconnect... 2017-10-31t20:08:29.470035+00:00 app web.1 : 2017/10/31 20:08:29.470001 info core: pre-seal teardown starting 2017-10-31t20:08:29.524634+00:00 app web.1 : 2017/10/31 20:08:29.524613 warn core: vault is sealed 2017-10-31t20:08:29.525018+00:00 app web.1 : error: error making api request. 2017-10-31t20:08:29.525019+00:00 app web.1 : 2017-10-31t20:08:29.525019+00:00 app web.1 : url: put http://localhost:53105/v1/sys/unseal 2017-10-31t20:08:29.525020+00:00 app web.1 : 2017-10-31t20:08:29.525021+00:00 app web.1 : expiration state restore failed: failed to read lease entry: pq: too many connections for role ztjvnkjpxrtsxs 2017-10-31t20:08:29.528004+00:00 app web.1 : vault server -config=./local.json 2017-10-31t20:08:29.525019+00:00 app web.1 : code: 500. errors: 2017-10-31t20:08:29.619362+00:00 heroku web.1 : state changed from starting to up 2017-10-31t20:09:01.463049+00:00 heroku router : at=info method=get path= /v1/secret/cluster/40 host=auger-vault-staging.herokuapp.com request_id=6f721162-a349-4dc4-aa77-32031ea16836 fwd= 54.145.139.219 dyno=web.1 connect=1ms service=1ms status=503 bytes=200 protocol=https 2017-10-31t20:10:29.028805+00:00 heroku web.1 : stopping all processes with sigterm 2017-10-31t20:10:29.164361+00:00 heroku web.1 : process exited with status 143