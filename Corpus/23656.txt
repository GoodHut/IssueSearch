 URL : "https://github.com/coreos/dex/issues/984" TITLE : question about azp BODY : i find it that dex support azp in oidc. however, if i use this feature, i could not validate my idtoken because aud doesn't contains client_id . i have read spec of azp . > azp optional. authorized party - the party to which the id token was issued. if present, it must contain the oauth 2.0 client id of this party. this claim is only needed when the id token has a single audience value and that audience is different than the authorized party. it may be included even when the authorized party is the same as the sole audience. the azp value is a case sensitive string containing a stringoruri value. > 3. the client must validate that the aud audience claim contains its client_id value registered at the issuer identified by the iss issuer claim as an audience. the aud audience claim may contain an array with more than one element. the id token must be rejected if the id token does not list the client as a valid audience, or if it contains additional audiences not trusted by the client. > 4. if the id token contains multiple audiences, the client should verify that an azp claim is present. > 5. if an azp authorized party claim is present, the client should verify that its client_id is the claim value. does it means that aud needs to append client_id even if azp is present. for example aud : cli-app , web-app , azp : web-app however, this claim is only needed when the id token has a single audience value and that audience is different than the authorized party. it may be included even when the authorized party is the same as the sole audience. is confused me. by the way, it seems that go-oidc can't verify dex idtoken if enable azp ? and kubernetes also can't validate these idtokens which use go-oidc