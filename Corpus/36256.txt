 URL : "https://github.com/Toblerity/Fiona/issues/441" TITLE : gpkg writing crasher BODY : expected behavior and actual behavior. segmentation faults often occur when writing a small geopackage file. bash $ python gpkg.py warning 6: dataset foo.gpkg does not support layer creation option encoding segmentation fault: 11 i don't immediately see a connection between the warning and the segfaut because the warning always occurs and the segfaults do not always occur. the problem was reported by conda/conda-forge user @chryss at https://github.com/conda-forge/fiona-feedstock/issues/41 and i've been able to trigger it using the wheels on pypi. steps to reproduce the problem. gpkg.py below: python import fiona schema = {'geometry': 'point', 'properties': 'title', 'str' } crs = {'init': 'epsg:4326'} with fiona.open 'foo.gpkg', 'w', layer='bar_foo', driver='gpkg', schema=schema, crs=crs as d: d.writerecords { 'geometry': {'type': 'point', 'coordinates': 0.0, 0.0 }, 'properties': {'title': 'one'}} d.writerecords { 'geometry': {'type': 'point', 'coordinates': 2.0, 3.0 }, 'properties': {'title': 'two'}} operating system mac os x 10.11.6 and python 2.7 @chryss mac os x 10.12.3 and python 3.6.0 @sgilies fiona version and provenance 1.7.5 wheel from pypi: macosx and py36.