 URL : "https://github.com/p4lang/p4c/issues/933" TITLE : list as header BODY : p4 include <core.p4> / architecture / control deparser<h> packet_out packet, in h hdr ; package switch<h> deparser<h> d ; / program / struct headers { / empty / } control mydeparser packet_out packet, in headers hdr { apply { packet.emit {} ; } } switch mydeparser main; it would be natural to accept this program, since the list can be coerced to a struct of the appropriate type. but p4c currently rejects it: error: packet.emit: argument must be a header, stack or union, or a struct of such types packet.emit {} ; ^^^^^^^^^^^^^^^