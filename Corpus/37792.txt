 URL : "https://github.com/nodemcu/nodemcu-firmware/issues/2116" TITLE : mqtt lwt not working BODY : 8<------------------------ bug report ----------------------------------------- expected behavior the lwt function of mqtt should set up the clients last will on the mqtt-broker. actual behavior the lwt function does nothing. a tcpdump tcpdump -n port 1883 on the broker reveals, that no package is received by the broker when running the lwt function. the broker is mosquitto 1.4.14. test code when connected to the broker and running: mqttclient:publish node/heater1/status , bla ,2,1 the message is properly published and tcpdump shows network-activity. but when running: mqttclient:lwt node/heater1/status , off ,2,1 tcpdump shows no network-traffic and after restarting the nodemcu-board no message is published to the topic. nodemcu version current master head. hardware nodemcu v2 dev-board 8<------------------------ end bug report -------------------------------------