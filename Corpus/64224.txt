 URL : "https://github.com/dougbtv/kube-centos-ansible/issues/4" TITLE : follow-up on cni bugfix BODY : i'm putting in a work-around of modifying the kubeadm config @ /etc/systemd/system/kubelet.service.d/10-kubeadm.conf work-around mentioned as: > we worked around it by removing kubelet_network_args from kubelet command line. after that kubeadm init worked fine and we were able to install canal cni plugin. in issue @ https://github.com/kubernetes/kubernetes/issues/43815 i'm putting a variable to execute this work-around, but, want to return to it root@kube-master centos cat /etc/systemd/system/kubelet.service.d/10-kubeadm.conf service environment= kubelet_kubeconfig_args=--kubeconfig=/etc/kubernetes/kubelet.conf --require-kubeconfig=true environment= kubelet_system_pods_args=--pod-manifest-path=/etc/kubernetes/manifests --allow-privileged=true environment= kubelet_network_args=--network-plugin=cni --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin environment= kubelet_dns_args=--cluster-dns=10.96.0.10 --cluster-domain=cluster.local environment= kubelet_authz_args=--authorization-mode=webhook --client-ca-file=/etc/kubernetes/pki/ca.crt execstart= execstart=/usr/bin/kubelet $kubelet_kubeconfig_args $kubelet_system_pods_args $kubelet_network_args $kubelet_dns_args $kubelet_authz_args $kubelet_extra_args