 URL : "https://github.com/cavaliercoder/libzbxpgsql/issues/104" TITLE : macro's not taking affect? BODY : to the best of my knowledge, i have configured everything correctly with regards to the template and os macros. pg_conn is set on the template macros to 'user=monitoring,postgres' pg_conn is set on the db host in zabbix to 'host=localhost user=monitoring connect_timeout=10' pg_db is set on the db host to the database i would like to monitor i can run ad-hoc commands and returns data: sudo -u zabbix zabbix_agentd -t pg.db.numbackends user=monitoring,postgres zabbix_agentd 80508 : starting agent module libzbxpgsql 1.1.0 zabbix_agentd 80508 : using module configuration file: /etc/zabbix/libzbxpgsql.conf pg.db.numbackends user=monitoring,postgres u|26 however, if i try to run sudo -u zabbix zabbix-agent -p all of the pg items return an error from psql that the zabbix role does not exist. m|zbx_notsupported fatal: role zabbix does not exist zabbix_agentd 80529 : error: postgresql: fatal: role zabbix does not exist in my mapping, i have set up zabbix to map to monitoring: type database user address method local all monitoring peer map=monitoring mapname system-username pg-username monitoring zabbix monitoring the zabbix-agent runs as zabbix on the database server, and is all local. it almost feels like to me that the zabbix agent is not taking into account the macros that are set? any guidance would be much appreciated. db server os: ubuntu 16 zabbix server & agent: 3.2 postgresql: 9.5