 URL : "https://github.com/miloyip/rapidjson/issues/1037" TITLE : core dump for some cases BODY : i am using version of 1.0.2 and sometimes my code has core dump. the following is how my code looks like. could anyone help to see whether my code has some memory issue. // global variables. rapidjson::document document = new rapidjson::document ; document->setobject ; rapidjson::value messages rapidjson::karraytype ; // called several times to add messages. void record { rapidjson::value message rapidjson::kobjecttype ; { rapidjson::value sub1 rapidjson::kobjecttype ; .... // addmember ... ; rapidjson::value sub1union rapidjson::kobjecttype ; sub1union.addmember sub1union , sub1, document->getallocator ; message.addmember sub1 , sub1union ; } messages.pushback message, document->getallocator ; } // serialize to string void serialize { // local document for serialization. rapidjson::document d ; d.setobject ; d.addmember field1 , value1 , document->getallocator ; d.addmember messages , messages, document->getallocator ; rapidjson::stringbuffer sb; rapidjson::writer rapidjson::stringbuffer writer buffer ; d.accept writer ; // core dump here string jsonmessages = buffer.getstring ; }