 URL : "https://github.com/cayleygraph/cayley/issues/666" TITLE : make transaction log real BODY : currently transaction log kind of exists, but it's not clear why. it's not exposed to users and is mostly a cause of complaints about poor write performance and large database size especially after deletes . i propose to separate log writer implementation from actual quadstore live database index . and make it optional, since most dbs has internal log anyway. at the same time, make our transaction log more useful when it's enabled: - replace legacy quad delta operations with operations that use resolved quads with node ids . - add node deltas with ref counts. - support wildcard deletes on quads. this will allow to form valid batch import log offline and then load it into empty database without any additional checks for uniqueness, node allocations, refcount updates, etc.