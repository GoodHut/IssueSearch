 URL : "https://github.com/dotnet/sdk/issues/1730" TITLE : sdk cannot pack itself BODY : the microsoft.net.build.tasks.csproj has some code to resolve publish assemblies during the build phase in order to pack itself. triggering this code now causes the order of getreferenceassemblypaths and getframeworkpaths to be reversed during pack. getreferenceassemblypaths must always run after getframeworkpaths because getreferenceassemblypaths overrides the targetframeworkdirectory set by getframeworkpaths. everywhere https://github.com/dotnet/sdk/pull/1618 added dependsontargets= getreferenceassemblypaths needs to be dependsontargets= getframeworkpaths;getreferenceassemblypaths minimal repro or just use microsoft.net.build.tasks.csproj : <project sdk= microsoft.net.sdk > <propertygroup> <targetframework>net46</targetframework> </propertygroup> <target name= repro dependsontargets= runresolvepublishassemblies beforetargets= resolvelockfilecopylocalprojectdeps /> </project> > dotnet pack microsoft r build engine version 15.5.178.35674 for .net core copyright c microsoft corporation. all rights reserved. restore completed in 11.77 ms for d:\temp\repro_pack\repro_pack.csproj. repro_pack -> d:\temp\repro_pack\bin\debug et46\repro_pack.dll c:\program files\dotnet\sdk\2.1.1-preview-007128\sdks\microsoft.net.sdk\build\microsoft.net.conflictresolution.targets 58,5 : error : framework list file path 'v4.0.30319\redistlist\frameworklist.xml' is not rooted. only full paths are supported. d:\temp\repro_pack\repro_pack.csproj @livarcocc @dsplaisted