 URL : "https://github.com/libgit2/libgit2/issues/4234" TITLE : error reading index v4 BODY : reproduction steps create an index v4 with git: $ git --version git version 2.12.2 $ git init /tmp/test-v4 $ cd /tmp/test-v4/ $ git update-index --index-version=4 $ touch file.txt $ git add file.txt $ git commit -m first commit try to open the index with libgit2: include <git2.h> include <stdio.h> int main { git_repository repo; git_index index; int err; err = git_repository_open &repo, /tmp/test-v4 ; if err < 0 { printf error opening repo ; return 1; } err = git_repository_index &index, repo ; if err < 0 { printf %s , giterr_last ->message ; return 1; } return 0; } expected behavior run without error. actual behavior error reading the index file: $ ./a.out invalid data in index - extension is truncated version of libgit2 release number or sha1 0.25.1 operating system s tested linux gentoo