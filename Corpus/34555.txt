 URL : "https://github.com/NixOS/nixpkgs/issues/29645" TITLE : clion uses wrogn jdk BODY : issue description wrapper scripts for jetbrains projects setup a special environmental variable to select jdk used by the product. unfortunately, the variable used for clion clion_jdk is wrong, it should be cl_jdk . cl_jdk is documented here https://blog.jetbrains.com/clion/2015/03/clion-eap-news-cmake-features-and-bug-fixes/ and i can confirm that for 2017.2 nothing has changed. the line in nixpgks where the env var is set is this: https://github.com/nixos/nixpkgs/blob/5f328b33abefca6bedd8b204a752c27318af4348/pkgs/applications/editors/jetbrains/common.nix l71, and hiname is determined here: https://github.com/nixos/nixpkgs/blob/5f328b33abefca6bedd8b204a752c27318af4348/pkgs/applications/editors/jetbrains/common.nix l9