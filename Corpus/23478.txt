 URL : "https://github.com/Nostrademous/Dota2-FullOverwrite/issues/159" TITLE : porting mode usage BODY : just an fyi to anyone contributing - i'm in the middle of fixing up the directory structure, mode calling for the framework, and how itempurchasing is called. on travel currently and doing most of my coding on the plane so cannot test. the plan is that we will have better file organization and better more similar to mode-level over-write mode calling. file structure: bots/itempurchase/<bot_name>.lua bots/abilityuse/abilityuse_<bot_name>.lua bots/modes/<all mode files> mode calling: currently the top-level hero think function evaluates each mode and returns the mode constant specified in constants.lua and the desire value of that mode, eventually returning the mode constant with the highest mode value. next, in decision_tree.lua, we have a large if-elseif chain checking each mode constant to see which one we want to execute and invoking it i.e., douseshrine hbot . this will be changed so that the top level hero think function will return a handle to the mode object instead, each mode will have it's own module which will require a think , onstart and onend at minimum. onstart and onend exist to allow for easy cleanup of any hero or global variables that need to be initialized/purged when transitioning to and from the mode. item purchasing: currently item purchasing is named to directly over-write the _item_purchasing_<heroname>.lua_ which makes it disconnected from the full-overwrite calls made by bot_<heroname>.lua which gets called separate from it. this is getting changed so that the decision_tree which will be renamed to decision makes calls against it when it wants to rather than the valve scheduled itempurchasethink of each hero. this will allow better control of when we invoke it as well as allow our decision-making about wanting to transition to secret or side shops visits integrated with all the other modes.