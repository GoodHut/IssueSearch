 URL : "https://github.com/ufcpp/UfcppSample/issues/158" TITLE : x, y = y, x BODY : 複合代入的な cs public struct point { public int x; public int y; public point int x, int y => x, y = x, y ; public void deconstruct out int x, out int y => x, y = x, y ; } とか cs static void swap ref int x, ref int y => x, y = y, x ; とか、c 7.0 リリース当初はタプルが作られてたけど、今はタプル作られなくなってる。 ※ - たぶん、c 7.1 から？ - 元々も仕様上は「構文的にはタプルを作ってるんだけど、最適化の結果タプル構築をなくすのは許す」ってことになってたはず。 ↓に書いちゃったswapコードも、 new valuetuple が発生しないようになってる。 http://ufcpp.net/study/csharp/datatype/deconstruction/ evaluation ということで、この辺りの話、 - 最適化許されてる - 実際、少なくともc 7.1以降は valuetuple 作られない - ただ、使いもしない system.valuetuple パッケージのnuget参照が求められる… みたいな話は追加したい。