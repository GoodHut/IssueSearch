 URL : "https://github.com/nickelser/zhong/issues/13" TITLE : zhong process is stucked BODY : zhong.rb: https://gist.github.com/lefty313/ac57df1dfd97133c9672c8f9f0e77540 most of my zhong jobs are spawning sidekiq background process, it works fine since months ! screen shot 2017-04-11 at 13 52 38 https://cloud.githubusercontent.com/assets/686684/24907857/36391682-1ebe-11e7-828d-b06d443f8eaf.png as you see single job is schedule per minute recently i added following non sidekiq job to my zhong configuration ruby every 15.seconds, check access matches do min5 = $redis.zcount matches:accessed , 5.minutes.ago.to_i, +inf min25 = $redis.zcount matches:accessed , 25.minutes.ago.to_i, +inf hour1 = $redis.zcount matches:accessed , 1.hour.ago.to_i, +inf hour24 = $redis.zcount matches:accessed , 24.hour.ago.to_i, +inf week = $redis.zcount matches:accessed , 7.days.ago.to_i, +inf total = $redis.zcount matches:accessed , -inf , +inf newrelic::agent.record_metric database/matchaccess/last5min , min5 newrelic::agent.record_metric database/matchaccess/last25min , min25 newrelic::agent.record_metric database/matchaccess/lasthour , hour1 newrelic::agent.record_metric database/matchaccess/lastday , hour24 newrelic::agent.record_metric database/matchaccess/lastweek , week newrelic::agent.record_metric database/matchaccess/alltime , total end ! screen shot 2017-04-11 at 13 51 55 https://cloud.githubusercontent.com/assets/686684/24907889/5b9cc9b4-1ebe-11e7-8d9a-14e478b8f00a.png as you see it's not reporting at time to time i can fix it by calling ruby $redis.del $redis.keys zhong but than it will lock after few minutes again. during lock phase zhong is still working fine for other jobs. am i doing something wrong here ?