 URL : "https://github.com/zendesk/ruby-kafka/issues/322" TITLE : certificate verify failed BODY : ruby : ruby 2.4.0p0 2016-12-24 revision 57164 x86_64-linux os : ubuntu precise rvm /vagrant/ruby-kafka-iam404/lib/kafka/ssl_socket_with_timeout.rb:66:in connect_nonblock': ssl_connect returned=1 errno=0 state=sslv3 read server certificate b: certificate verify failed openssl::ssl::sslerror tried with both self signed and comodo certificate. but getting above error. also ssl_ca_cert: file.read '/root/new-ca.pem' is set. variable: kafka = kafka.new ssl_ca_cert: file.read '/root/new-ca.pem' , ssl_client_cert: file.read '/root/new-crt.pem' , ssl_client_cert_key: file.read '/root/new-key.pem' , seed_brokers: brokers, client_id: ssl-producer , logger: logger, only solution to fix above is: require 'openssl' openssl::ssl::verify_peer = openssl::ssl::verify_none or commenting :verify_mode => openssl::ssl::verify_peer, in /usr/local/rvm/rubies/ruby-2.4.0/lib/ruby/2.4.0/openssl/ssl.rb