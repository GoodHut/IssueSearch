 URL : "https://github.com/phpredis/phpredis/issues/1258" TITLE : sigsegv in some cases BODY : expected behaviour running simple hmget 'index', 'key' should not fail actual behaviour leads to sigsegv i'm seeing this behaviour on - os: centos linux release 7.4.1708 core , linux 3.10.0-514.6.1.el7.x86_64 - redis: redis server v=4.0.2 sha=00000000:0 malloc=jemalloc-3.6.0 bits=64 build=5e81d0ebc9709a8a - php: 7.1.10 - phpredis: 3.1.4, develop backtrace would have different line number, but same function that leads to error, redis_mbulk_reply_assoc steps to reproduce, backtrace or example script i've got backtrace only, there could be some commands called before that lead to this 0x00007fffdabdde9e in redis_mbulk_reply_assoc execute_data=execute_data@entry=0x7ffff3a14ad0, return_value=return_value@entry=0x7ffff3a14ab0, redis_sock=redis_sock@entry=0x7ffff3ab3000, z_tab=z_tab@entry=0x0, ctx=0x7fffb817a040 at /usr/src/debug/php-pecl-redis-3.1.4/nts/library.c:1715 1715 add_assoc_zval_ex z_multi_result, z_strval z_keys i , z_strlen z_keys i , z ; 1 0x00007fffdabcc2cd in zim_redis_hmget from /usr/lib64/php/modules/redis.so 2 0x0000555555897914 in zend_do_fcall_spec_retval_used_handler at /usr/src/debug/php-7.1.10/zend/zend_vm_execute.h:1097 3 0x000055555583e72b in execute_ex ex=<optimized out> at /usr/src/debug/php-7.1.10/zend/zend_vm_execute.h:429 4 0x00005555557e47f4 in zend_call_function fci=0x7ffff3a14a30, fci@entry=0x7fffffffa840, fci_cache=<optimized out>, fci_cache@entry=0x7fffffffa810 at /usr/src/debug/php-7.1.10/zend/zend_execute_api.c:855 i've checked - x there is no similar issue from other users - x issue isn't fixed in develop branch