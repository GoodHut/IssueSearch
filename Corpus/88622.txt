 URL : "https://github.com/chrmarti/testissues/issues/3089" TITLE : npe in windowsshellhelper BODY : steps to reproduce: 1. open and kill terminal very quickly this can likely happen when the terminal is killed during a wmic.exe call. cannot read property 'on' of null: typeerror: cannot read property 'on' of null at new windowsshellhelper file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/workbench/parts/terminal/electron-browser/windowsshellhelper.js:26:24 at file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/workbench/parts/terminal/electron-browser/terminalinstance.js:98:90 at object.notifysuccess as _notify file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/base/common/winjs.base.raw.js:1170:59 at object.enter file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/base/common/winjs.base.raw.js:852:30 at promise_ctor._run file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/base/common/winjs.base.raw.js:1068:29 at promise_ctor._completed file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/base/common/winjs.base.raw.js:1036:18 at file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/workbench/parts/terminal/electron-browser/terminalinstance.js:92:61 at callbacklist.invoke file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/base/common/callbacklist.js:58:43 at emitter.fire file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/base/common/event.js:91:40 at childprocess.<anonymous> file:///c:/users/daniel/documents/dev/microsoft/vscode/out/vs/workbench/parts/terminal/electron-browser/terminalinstance.js:527:45