 URL : "https://github.com/broadinstitute/cromwell/issues/1912" TITLE : jes backend retries BODY : we would like to handle certain jes vm errors in a manner which allows for some automatic retries prior to failing the job. there will be two categories, each handled slightly differently from the other: preemption for preemptible vms i.e. error 14 jes error codes other than preemption which we believe to be transient e.g. error 13 for both situations, the following statements will be true: when one of these events happens we will determine if the job is retryable see below for criteria if the job is not retryable it will be failed if the job is retryable -- an event will be sent to the metadata service -- the retry will be logged -- the attempt number shall be incremented -- the job will be attempted again in terms of visibility to the end user, preemption shall be handled exactly as it is now. for the other error codes we retry up to 2 times, and there will be a server level configuration option to toggle this behavior on and off. there will be a subtle implementation change for these compared to how preemption is handled now. in the jes backend if a job fails for one of these two reasons and we decide the job is retryable either because it was preempted and the remaining preemption count is > 0 or non-preemption and the master retry count is > 0 a signal will be sent back to the engine that the job failed but is to be retried. the difference here from the current behavior is that the jes backend is the one tracking the retry counts and merely telling the backend to retry the job instead of the engine tracking the retry count s .