 URL : "https://github.com/Automattic/mongoose/issues/5729" TITLE : query not executing BODY : i seem to be running into an odd issue. i'm trying to iterate over the results of a .find , do something, then update the document. however, it never seems to run the update. here's an example: node // doesn't work model.find function err, items { if err return console.log err items.foreach function item { var query = {name: item.name} model.findoneandupdate query, {updated_at: date.now }, function err, doc { if err return console.log err console.log doc } } } // works! var query = {name: 'john doe'} model.findoneandupdate query, {updated_at: date.now }, function err, doc { if err return console.log err console.log doc } the model.findoneandupdate never seems to run, i don't know if i'm doing something wrong, or if there is some strange bug. running node 8.7.0, and mongoosejs 4.12.1