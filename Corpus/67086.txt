 URL : "https://github.com/beetbox/beets/issues/2635" TITLE : optimize lyrics search? BODY : i thought it could be a good idea to optimize lyrics searches. here, when i want to fetch all the lyrics in my collection, the first results are like this: $ beet lyrics lyrics: lyrics not found: - - lyrics: lyrics not found: - - lyrics: lyrics not found: - - lyrics: lyrics not found: - - lyrics: lyrics not found: - - lyrics: lyrics not found: - - lyrics: lyrics not found: - - lyrics: lyrics not found: - - a few things come to mind here: 1. wtf is going on? 2. okay, this is probably some broken tags in my collection, sorry, but still, wtf? : 3. okay, it's probably trying to find empty artist, empty album, empty title , and failing - shouldn't we just skip those? 4. why is it repeatedly trying those? i guess that's because i have multiple such entries, but still, wtf? : network access is expensive, way more than disk or memory. we should limit is as much as possible, if only to avoid being blocked at the provider e.g. 2632 for example . while we could try and tweak our searches to say avoid searching certain patterns like say empty artists or titles, it would seem even better to use a bloom filter https://en.wikipedia.org/wiki/bloom_filter for this purpose. it would delegate to the backends the responsibility of filtering out ridiculous requests, but we would do them at least only once. and since the resulting search from item a and b may be the same, we would also avoid sending duplicate requests to the backend. opinions?