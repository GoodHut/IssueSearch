 URL : "https://github.com/jcupitt/libvips/issues/734" TITLE : 8-bit png support BODY : it would be great if libvips had support for saving 8-bit palette based png with alpha transparency which are a great choice for saving small images with transparency on the web. more info: pngquant https://pngquant.org from my limited understanding this would require the following changes: add a good quantizer algorithm to reduce from rgba to 8-bit indexed-color eg. libimagequant https://github.com/imageoptim/libimagequant add support for writing to png8 format with the proper trns-chunk note that there are two ways to store transparency in 8-bit png: mark a single color as transparent store a transparency value for each color in the index so eg. if you have 256 colors in the index, you have 256 transparency values in the same order that specify the transparency for the color i think only the latter is useful and makes sense to implement. here's some info on the trns chunk from libpng: png_get_trns http://refspecs.linuxbase.org/lsb_3.1.0/lsb-desktop-generic/lsb-desktop-generic/libpng12.png.get.trns.1.html there is similar discussion in 160 regarding gifsave support. one approach to make it simpler to integrate could be to move the quantization logic into a custom saver like png8save which accepts rgba data and then does the quantization internally.