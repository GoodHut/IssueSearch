 URL : "https://github.com/request/request/issues/2568" TITLE : callback not being called BODY : apparently the callback function is not being called, since the tok variable is not being set to anything. also, it isn't waiting 5 seconds. is the callback asynchronous? this is running is a node-red node on raspberry pi/debian. var options = { url: 'http://localhost:1880/auth/token', method:'post', headers: { 'accept': ' / ', 'content-type': 'application/x-www-form-urlencoded' }, form: {'client_id': 'node-red-admin', 'grant_type': 'password', 'scope': ' ', 'username': 'admin', 'password': 'password' }, timeout:5000 }; var tok; request options, function error, response, body { if !error && response.statuscode == 200 tok= json.parse body ; else tok= response; } ;