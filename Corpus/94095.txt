 URL : "https://github.com/stratisproject/StratisBitcoinFullNode/issues/599" TITLE : block store race condition BODY : the block store will sometimes fall behind. because of this code in consensus this.chainstate.highestvalidatedpow = this.tip; if this.chain.tip.hashblock == item.chainedblock?.hashblock this.flushasync .getawaiter .getresult ; this.signals.signalblock item.block ; the problem is store uses this condition to store a block if this.storetip.height >= this.chainstate.highestvalidatedpow?.height break; a very rare race condition can happen where highestvalidatedpow is updated and store is trying to look for the next block in pending storage collection but signals.signalblock did not push the block yet to that collection. then the node will try to download the block.