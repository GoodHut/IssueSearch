 URL : "https://github.com/Zizaco/entrust/issues/780" TITLE : duplicate query roles BODY : fix, please duplicate query roles in entrustusertrait protected $roles; //big block of caching functionality. public function cachedroles { if $this->roles instanceof collection return $this->roles; $userprimarykey = $this->primarykey; $cachekey = 'entrust_roles_for_user_' . $this->$userprimarykey; if cache::getstore instanceof taggablestore { return $this->roles = cache::tags config::get 'entrust.role_user_table' ->remember $cachekey, config::get 'cache.ttl' , function { return $this->roles ->get ; } ; } else return $this->roles = $this->roles ->get ; }