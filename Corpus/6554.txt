 URL : "https://github.com/avkoch/py36-ExchangeLogParser/issues/12" TITLE : add tls support BODY : python if use_tls == 'yes': print 'starting with a secure connection' server = smtplib.smtp_ssl servername, serverport else: print 'starting with an insecure connection' server = smtplib.smtp servername, serverport try: server.set_debuglevel true identify ourselves, prompting server for supported features server.ehlo if we can encrypt this session, do it if server.has_extn 'starttls' : print ' starting tls ' server.starttls server.ehlo reidentify ourselves over tls connection else: print ' no starttls ' if server.has_extn 'auth' : print ' logging in ' server.login username, password else: print ' no auth ' server.sendmail 'author@example.com', to_email , msg.as_string finally: server.quit