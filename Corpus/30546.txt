 URL : "https://github.com/GoogleChrome/puppeteer/issues/1201" TITLE : preloading a script BODY : if we want to change some default page variables before the page loads, we got no way of doing this in puppeteer. if we do, i don't see it in any docs or code. for example, i might want to change navigator object properties and mock tests. js // overwrite the languages property to use a custom getter object.defineproperty navigator, 'languages', { get: function { return 'en-us', 'en' ; }, } ; // overwrite the plugins property to use a custom getter object.defineproperty navigator, 'plugins', { get: function { // this just needs to have length > 0 , but we could mock the plugins too return 1, 2, 3, 4, 5 ; }, } ; it's easily doable with nightmare, var nightmare = require 'nightmare' , nightmare = nightmare { webpreferences: { preload: 'alertmessage.js' // <-- this will get executed first, so we can change whatever object we want } } ; note this is not addscripttag or exposefunction. exposefunction will add a function, addscripttag will do something on load. but, a preload script will load first, and make whatever changes we need to change. if this is a limitation in chrome, how can we improve this? links for reference: https://intoli.com/blog/making-chrome-headless-undetectable/