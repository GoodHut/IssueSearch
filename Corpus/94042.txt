 URL : "https://github.com/Mouse-Imaging-Centre/pydpiper/issues/344" TITLE : better cleanup of /dev/shm BODY : the issue here is that an executor crash leaves files from rotational_minctracc.py in /dev/shm rotational minctracc can't clean up after itself in certain cases, such as a hard kill signal from the scheduler . ostensibly, the node's ramdisk may eventually become full as a result. the nicest thing would be to verify that in all possible crash situations ctl-c, walltime limit, ... the pipeline correctly cleans up via exception handling, signal handling, etc. . a simple workaround would be for each executor to create a subdirectory of /dev/shm and register a file lock via the flock syscall. one could then e.g., at executor start/exit look for appropriately titled directories lacking a lock signifying the executor responsible has exited and delete them. obviously there's a potential race condition here ... similar remarks probably apply to /tmp.