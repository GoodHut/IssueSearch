 URL : "https://github.com/tboox/xmake/issues/89" TITLE : makefile generation fails BODY : bug makefile generated has goal all with no deps so that no build will be actioned. console $ xmake create -p test $ cd test $ xmake project $ cat makefile mxx=g++ cxx=gcc cc=gcc as=gcc mm=gcc sh=g++ ld=g++ ar=ar test3_cc=-fvisibility=hidden -o3 -m64 -i/usr/local/include -i/usr/include test3_ld=-s -fvisibility=hidden -m64 -l/usr/local/lib -l/usr/lib all: .phony: all test3: build/test3 build/test3: build/.objs/test3/src/main.c.o @echo linking.release test3 @mkdir -p build @$ ld -o build/test3 build/.objs/test3/src/main.c.o $ test3_ld > build/.build.log 2>&1 build/.objs/test3/src/main.c.o: src/main.c @echo ccache compiling.release src/main.c @mkdir -p build/.objs/test3/src @ccache $ cc -c $ test3_cc -o build/.objs/test3/src/main.c.o src/main.c > build/.build.log 2>&1 $ make make: nothing to be done for 'all'. bisect log: git bisect start bad: fd4a54717f7a25127e77c9159f1b4ffeaa69e3c8 fix phony target for vs project git bisect bad fd4a54717f7a25127e77c9159f1b4ffeaa69e3c8 good: d986e3d5022914db01e4dec834de1368ab9147d4 cache version info git bisect good d986e3d5022914db01e4dec834de1368ab9147d4 good: 376e697ab8c71f75aafaf5b34524206936988aaf fix link target deps bug git bisect good 376e697ab8c71f75aafaf5b34524206936988aaf good: 9c763d55994030f5e31ce16979a94fbf868f59fb use target name as link git bisect good 9c763d55994030f5e31ce16979a94fbf868f59fb bad: 442a015bd6c93541023a8c11e99a1f353f0a01f6 improve phony target git bisect bad 442a015bd6c93541023a8c11e99a1f353f0a01f6 good: b4caa8534e0cf8216dc1807ae17bb1045ade7474 run target and deps git bisect good b4caa8534e0cf8216dc1807ae17bb1045ade7474 first bad commit: 442a015bd6c93541023a8c11e99a1f353f0a01f6 improve phony target