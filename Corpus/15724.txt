 URL : "https://github.com/jacobdufault/cquery/issues/84" TITLE : fix ./waf install BODY : since default ./waf install only copies app into /usr/bin with broken libclang.so , we need to provide a customized build in wscript . probably we can replace absolute rpath with relative one e.g. libs/ and copies app , libclang.so and clang_resource_dir to /opt/cquery . current package on arch linux patched wscript to perform the above instructions, but i think it would be better to have these steps builtin in scripts. the directory structure is as follows: /opt/cquery ├── clang_resource_dir │   ├── include │   └── readme.md ├── cquery // with rpath=lib/ └── lib ├── bugpointpasses.so ├── libc++abi.so ├── libc++abi.so.1 ├── libc++abi.so.1.0 ├── libclang.so ├── libclang.so.4 ├── libclang.so.4.0 ├── libc++.so ├── libc++.so.1 ├── libc++.so.1.0 ├── libgomp.so ├── libiomp5.so ├── liblto.so ├── liblto.so.4 ├── liblto.so.4.0.0 ├── libomp.so ├── libunwind.so ├── libunwind.so.1 ├── libunwind.so.1.0 └── llvmhello.so ➜ cat /usr/bin/cquery !/usr/bin/bash cd /opt/cquery ./cquery $@