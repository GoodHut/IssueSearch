 URL : "https://github.com/godotengine/godot/issues/11848" TITLE : 2 shadow map issues BODY : operating system or device, godot version, gpu model and driver if graphics related : win10 current build of godot3 issue description: <!-- what happened, and what was expected. --> issue 1: when a scene with a shadow mapped spotlight is run, it sometimes exhibits artifacts. the image on the left shows a sample scene when run the first time. there is a cutout part of the shadow directly under the sphere. if the scene is reloaded using get_tree .reload_current_scene it then looks correct as can be seen on the right. ! shadow_map_bug https://user-images.githubusercontent.com/7741669/31212266-4b1b9f12-a9eb-11e7-9691-9ab2a79bd238.jpg similarly, when the test scene is first loaded, the shadow artifact can be seen under the sphere, but if the spotlight is toggled off and on, it looks correct as is illustrated in the second image ! shadow_map_bug2 https://user-images.githubusercontent.com/7741669/31212528-ca0493fa-a9ec-11e7-8373-9b18b2c7505b.jpg issue 2: when a scene is reloaded using get_tree .reload_current_scene and has a shadow mapped spotlight or omni, the console gets spammed with an opengl error message stating: error: _shadow_atlas_find_shadow: condition ' !sli ' is true. continuing..: at: drivers/gles3/rasterizer_scene_gles3.cpp:270 error: getornull: condition ' !id_map.has p_rid.get_data ' is true. returned: __null at: core/rid.h:164 this will happen with any scene containing either an omni or spotlight with shadow enabled. the error only ever happens upon reload and slows down the game severely! steps to reproduce: - run the following test scene and hit spacebar to reload the scene. this scene will demonstrate the 2 bugs described. link to minimal example project: <!-- optional but very welcome. you can drag and drop a zip archive to upload it. --> shadow_map_bug.zip https://github.com/godotengine/godot/files/1358154/shadow_map_bug.zip