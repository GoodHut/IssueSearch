 URL : "https://github.com/voxpupuli/puppet-letsencrypt/issues/94" TITLE : adding extra domain fails BODY : using 'letsencrypt::certonly' it appears that adding extra domain names does not work once the certificate has been issued. running the command that eventually happens reveals that the certbot code goes user-interactive and asks if you wish to expand the certificate to cover the new domains, but the puppet module does not deal with this and the current certificate remains in place. i have had a look on the letsencrypt community board and issue tracker, it seems that this is still something undergoing change but there is an '--expand' flag that certbot should honour to add new domains, possibly only if they are a complete superset you can't remove any . i'm not sure what a good solution is here, possibly adding '--expand' for now but it will probably still fail when domains are removed since doing this does not affect the currently issued certificate and does not change the renewal paramters in /etc/letsencrypt/renewal/<domain>.conf