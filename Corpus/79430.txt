 URL : "https://github.com/johnrengelman/shadow/issues/292" TITLE : shading native libraries BODY : shadow version 1.2.3 gradle version 3.3 expected behavior shade native libraries actual behavior no shading in place i'm trying to shade io.netty:netty-transport-native-epoll:4.1.8.final:linux-x86_64 my netty dependencies are gradle project : compile 'io.netty:netty-all:4.1.8.final' compile 'io.netty:netty-transport-native-epoll:4.1.8.final:linux-x86_64' i'm shading io.netty to io.netty.shadednetty. the epoll native code in netty needs to be shaded too. when the program starts up, netty create a temp file that is the shared object of the native code. most of the strings in /tmp/libnetty-transport-native-epollxxxxxxxxx.so looks like: java_io_netty_channel_unix_filedescriptor_writeaddress java_io_netty_channel_epoll_native_sizeofepollevent java_io_netty_channel_unix_socket_getreceivebuffersize java_io_netty_channel_epoll_native_splice0 java_io_netty_channel_unix_errors_errnoewouldblock java_io_netty_channel_epoll_native_settcpnotsentlowat java_io_netty_channel_epoll_native_epollin java_io_netty_channel_unix_socket_iskeepalive where they should look like: java_io_netty_shadednetty_channel_unix_filedescriptor_writeaddress java_io_netty_shadednetty_channel_epoll_native_sizeofepollevent java_io_netty_shadednetty_channel_unix_socket_getreceivebuffersize java_io_netty_shadednetty_channel_epoll_native_splice0 java_io_netty_shadednetty_channel_unix_errors_errnoewouldblock java_io_netty_shadednetty_channel_epoll_native_settcpnotsentlowat java_io_netty_shadednetty_channel_epoll_native_epollin java_io_netty_shadednetty_channel_unix_socket_iskeepalive any help about shading this would be great!