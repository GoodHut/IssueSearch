 URL : "https://github.com/rstudio/sparklyr/issues/419" TITLE : investigate test failures BODY : when i run sparklyr tests, i see a lot of failures, related to a failure to dispatch on invoke : ==> devtools::test loading sparklyr loading required package: testthat testing sparklyr dplyr do: 12 feature transformers: 3456............7 install: ................................................................ glm: 8 clustering: 9 lm: a saveload: bc naive bayes: d read-write: . serialization: efeeese skipped ------------------------------------------------------------------------ 1. data.frames with many columns don't cause java stackoverflows @test-serialization.r 85 - skipping slow serialization test failed ------------------------------------------------------------------------- 1. error: the serial implementation of 'do' functions as expected @test-dplyr-do.r 14 no applicable method for 'invoke' applied to an object of class null 1: diamonds_tbl %>% group_by color, clarity %>% do model = ml_linear_regression ., price ~ x + y + z at /users/kevin/git/sparklyr/tests/testthat/test-dplyr-do.r:14 2: withvisible eval quote _fseq _lhs , env, env 3: eval quote _fseq _lhs , env, env 4: eval expr, envir, enclos 5: _fseq _lhs 6: freduce value, _function_list 7: withvisible function_list k value 8: function_list k value 9: do ., model = ml_linear_regression ., price ~ x + y + z 10: do_ .data, .dots = lazyeval::lazy_dots ... 11: do_.tbl_spark .data, .dots = lazyeval::lazy_dots ... 12: spark_dataframe .data at /users/kevin/git/sparklyr/r/dplyr_do.r:3 13: spark_dataframe.tbl_spark .data at /users/kevin/git/sparklyr/r/spark_dataframe.r:13 14: invoke hive, sql , sql at /users/kevin/git/sparklyr/r/sdf_wrapper.r:9 <details> > sessioninfo r version 3.3.2 2016-10-31 platform: x86_64-apple-darwin13.4.0 64-bit running under: macos sierra 10.12.2 </details>