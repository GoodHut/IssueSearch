 URL : "https://github.com/eventmachine/eventmachine/issues/763" TITLE : no ipv6 in pure ruby BODY : connections to dual stack hosts fail, if pure ruby is used. this is most probably caused by af_inet in https://github.com/eventmachine/eventmachine/blob/master/lib/em/pure_ruby.rb l875 /opt/sensu/embedded/lib/ruby/2.3.0/socket.rb:1207:in __connect_nonblock': address family not supported by protocol - connect 2 for 2 a03:foo:bar::1 :5671 errno::eafnosupport from /opt/sensu/embedded/lib/ruby/2.3.0/socket.rb:1207:in connect_nonblock' from /opt/sensu/embedded/lib/ruby/gems/2.3.0/gems/eventmachine-1.2.1/lib/em/pure_ruby.rb:882:in connect' from /opt/sensu/embedded/lib/ruby/gems/2.3.0/gems/eventmachine-1.2.1/lib/em/pure_ruby.rb:168:in bind_connect_server' from /opt/sensu/embedded/lib/ruby/gems/2.3.0/gems/eventmachine-1.2.1/lib/em/pure_ruby.rb:163:in connect_server' from /opt/sensu/embedded/lib/ruby/gems/2.3.0/gems/eventmachine-1.2.1/lib/eventmachine.rb:677:in bind_connect' from /opt/sensu/embedded/lib/ruby/gems/2.3.0/gems/eventmachine-1.2.1/lib/eventmachine.rb:653:in connect'