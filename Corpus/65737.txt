 URL : "https://github.com/DFHack/dfhack/issues/1151" TITLE : lag diagnostic feature? BODY : we're having periodic lags in our fortress, and it reminds me of a case where autochop went crazy and created too many jobs. then autounsuspend was waking up too often, walking the huge job list, and dragging the fps way down: https://github.com/dfhack/dfhack/issues/1076 to diagnose the current periodic hang like 10-20 secs , i've tried disabling some dfhack plugins and/or adding text when they start or stop. we haven't narrowed it down yet. what would be more convenient, though, is if there was a way to hook into dfhack at a higher level such that any periodic jobs/processes emit what plugin is running and its elapsed time and cpu time?! . is there a central place to do this in the dfhack code? what is the model for running external lua and ruby? it seems like there might be a mutex somewhere that gets locked before something is run ... that might be a good spot to add performance reporting. with some pointers i might be able to figure it out and make a pull request. thanks!