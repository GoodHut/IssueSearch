 URL : "https://github.com/crystal-lang/crystal/issues/4261" TITLE : http requests hanging BODY : cr require json require http struct body json.mapping content: string end server = http::server.new 8080 do |context| context.request.body.try do |body| body = body.from_json body puts body.content end end server.listen test using curl -v -d '{ content : foo }' http://localhost:8080/v0/threads . expected result: foo printed to server console, http request returns response. actual result: curl hangs after sending data, foo not printed to server stdout. manually quitting curl with ^c will print foo to the console and complete the http request. i think something weird is happening with io::sized , but i'm not entirely sure whether the blame lies there or in the json parsing. crystal -v crystal 0.21.1 3c6c75e 2017-03-06 llvm 3.5.0