 URL : "https://github.com/bsaul/geex/issues/35" TITLE : an rcpp example BODY : i'm posting this example of an rcpp estfun here in case it's useful to me one day in creating a more useful example. library rcpp library geex cppfunction 'numericvector meanvar_psifun numericvector theta, numericvector y { numericvector out 2 ; out 0 = y 0 - theta 0 ; out 1 = pow y 0 - theta 0 , 2.0 - theta 1 ; return out; }' test_estfun1 <- function data { y <- data$y1 function theta { meanvar_psifun theta, y } } test_estfun2 <- function data { y <- data$y1 function theta { c y - theta 1 , y - theta 1 ^2 - theta 2 } } microbenchmark::microbenchmark m_estimate estfun = test_estfun1, data = geexex, root_control = setup_root_control start = c 0, 0 , m_estimate estfun = test_estfun2, data = geexex, root_control = setup_root_control start = c 0, 0 , times = 50l