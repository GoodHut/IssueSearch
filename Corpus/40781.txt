 URL : "https://github.com/wconrad/ftpd/issues/45" TITLE : using ruby 2.4 fails BODY : i tried installing the most modern ruby available in homebrew ruby 2.4 , and kept running into a problem compiling json 1.8.3 : gem::ext::builderror: error: failed to build gem native extension. current directory: /usr/local/lib/ruby/gems/2.4.0/gems/json-1.8.3/ext/json/ext/generator /usr/local/opt/ruby/bin/ruby -r ./siteconf20170624-88439-qnl4kq.rb extconf.rb creating makefile current directory: /usr/local/lib/ruby/gems/2.4.0/gems/json-1.8.3/ext/json/ext/generator make destdir= clean current directory: /usr/local/lib/ruby/gems/2.4.0/gems/json-1.8.3/ext/json/ext/generator make destdir= compiling generator.c generator.c:861:25: error: use of undeclared identifier 'rb_cfixnum' } else if klass == rb_cfixnum { easily fixed by editing gemfile.lock to use the latest json 2.1.0 : diff --git a/gemfile.lock b/gemfile.lock index d1313a4..81b7532 100644 --- a/gemfile.lock +++ b/gemfile.lock @@ -42,7 +42,7 @@ gem rake rdoc semver - json 1.8.3 + json 2.1.0 jwt 1.5.6 memoizer 1.0.1 mini_portile2 2.1.0