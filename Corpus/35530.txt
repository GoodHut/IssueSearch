 URL : "https://github.com/Manishearth/rust-clippy/issues/1466" TITLE : eq_op false positive BODY : consider the following function: fn nan_test -> bool { let v = std::f32::nan; v != v //warning: equal expressions as operands to != } the eq_op warning is wrong here since floats only implement partialord and doing v != v allows me to detect them in a generic context: fn max<t: partialord> v1: t, v2: t -> t { if v2 != v2 { v2 } else if v2 > v1 { v2 } else { v1 } } maybe a solution is to check whether the result of the expression returns something that implements ord or not?