 URL : "https://github.com/jovyan/pythreejs/issues/90" TITLE : enormous widget state BODY : steps to repoduce: - open a new notebook with the following code extracted from voxel_painter example notebook : python import pythreejs as three sizex = sizey = 500 surf_geo = three.surfacegeometry z = 0 sizex sizey, width = 2 sizex, height = 2 sizey, width_segments = 2 sizex//stepx, height_segments = 2 sizey//stepy, - save notebook with widget state. result: notebook has more than 500 500 = 250'000 lines, as the z variable is getting one line per entry. this is sufficient to e.g. cause several diff tools to grind to a halt git gui, gituhb desktop, but not nbdime-web :d . this might actually be a problem with how notebook stores lists, but maybe there is a better way to save this? related ipywidgets issue: the widget state will be kept even after the outputs are cleared. particularly for the clear all outputs action, you would expect all widget state to be cleared as well i'm not certain how hard it would be to also handle clearing of individual outputs . now, the only way to clear the widget state is to restart the kernel and click save notebook with widgets .