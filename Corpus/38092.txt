 URL : "https://github.com/node-ffi/node-ffi/issues/424" TITLE : node-ffi with struct BODY : greetings everybody! i have library on linux. that library have struct. manual of this library says that struct must be initialized, like this: long luserid; net_dvr_deviceinfo_v30 strudeviceinfo; luserid = net_dvr_login_v30 192.168.1.64 , 8000, admin , 12 , &strudeviceinfo ; strudeviceinfo â€” output data from device, that i must to read and use. how can i code this in nodejs. ps: i use node-ffi module, library initialization and connect to device finished ok. var net = require 'net' ; var events = require 'events' ; var util = require 'util' ; var request = require 'request' ; var xml2js = require 'xml2js' ; var ffi = require ffi ; var ref = require ref ; var ref_struct = require ref-struct ; var libhiksdk = ffi.library './libhcnetsdk.so', { 'net_dvr_init': 'bool', , 'net_dvr_setconnecttime': 'bool', 'char', 'char' , 'net_dvr_setreconnect': 'bool', 'char', 'bool' , 'net_dvr_login_v30': 'char', 'string', 'int', 'string', 'string' , 'net_dvr_cleanup': 'void', , 'net_dvr_getlasterror': 'char', , 'net_dvr_getsdkversion': 'char', , 'net_dvr_setlogtofile': 'bool', 'int', 'string' } ; libhiksdk.net_dvr_cleanup ; var init = libhiksdk.net_dvr_init ; var v = libhiksdk.net_dvr_getsdkversion ; var s = libhiksdk.net_dvr_setconnecttime '200000', '1' ; libhiksdk.net_dvr_setlogtofile 3, /home/user ; var i = libhiksdk.net_dvr_login_v30 192.168.0.10 , 8000, admin , 12345 ; var g = libhiksdk.net_dvr_getlasterror ;