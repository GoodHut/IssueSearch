 URL : "https://github.com/01alchemist/TurboScript/issues/85" TITLE : result++ have error BODY : turboscript code export function test number: int32 : int32 { let result:int32; let isloop:int32 = 12; while isloop == 0 { isloop--; result++; } return 12; } run have error site ourjs.cn qq 1405491181 $ ./node_modules/.bin/tc ts.tbs --wasm --out ts.wasm turbo_path:/users/liangzeng/documents/project/wast/node_modules/turboscript pre-parsing: 3.828ms lexing: 32.808ms preprocessing: 0.266ms parsing: 30.249ms checking: 47.406ms shaking: 1.812ms node:51845 unhandledpromiserejectionwarning: unhandled promise rejection rejection id: 1 : typeerror: cannot read property 'allocationsizeof' of undefined node:51845 deprecationwarning: unhandled promise rejections are deprecated. in the future, promise rejections that are not handled will terminate the node.js process with a non-zero exit code. if remove result++ if ok export function test number: int32 : int32 { let result:int32; let isloop:int32 = 12; while isloop == 0 { isloop--; // result++; // if remove the line is ok } return 12; } if use ++result replace result++ is ok export function test number: int32 : int32 { let result:int32; let isloop:int32 = 12; while isloop == 0 { isloop--; ++result; } return 12; }