 URL : "https://github.com/nebhead/PlexPostProc/issues/7" TITLE : queue the encoder! BODY : i was having issues with five or more handbrakecli processes getting kicked off and bogging my system down, or also encodes getting lost in a reboot. i've added a queue system that you might want to check out. i also thought adding an encode log would be nice. i've thrown together the following shell scripts and call encodequeue.sh with a cron job /30 home/ user /plexpostproc/encodequeue.sh . the execdir variable will need to be changed. enqueue.sh !/bin/sh execdir= /home/ user /plexpostproc if ! -z $1 ; then echo $execdir /plexpostproc.sh $1>> $execdir /queue.txt else echo usage: $0 filename fi encodequeue.sh !/bin/sh execdir= /home/ user /plexpostproc timestamp=$ date +%y%m%d-%h%m%s if pgrep -x handbrakecli > /dev/null then echo hanbrakecli is already working else echo hanbrakecli stopped, let's do some work? run first line of queue encodejob=$ head -n 1 $execdir/queue.txt if -n $encodejob ; then echo $timestamp: $encodejob >> $execdir/encode.log echo running: $encodejob $encodejob remove line from queue sed '1d' $execdir/queue.txt > $execdir/tmpfile ; mv $execdir/tmpfile $execdir/queue.txt fi fi