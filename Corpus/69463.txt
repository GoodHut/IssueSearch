 URL : "https://github.com/zettajs/zetta/issues/345" TITLE : test failing on windows BODY : there's another issue with urls on windows. when launched, the output is as follows: json { class : root , links : { rel : self , href : http://127.0.0.1:1337\\ },{ title : test , rel : http://rels.zettajs.io/server , href : http://127.0.0.1:1337/servers/test },{ rel : http://rels.zettajs.io/events , href : ws://127.0.0.1:1337/events },{ rel : http://rels.zettajs.io/peer-management , href : http://127.0.0.1:1337/peer-management } , actions : { name : query-devices , method : get , href : http://127.0.0.1:1337\\ , type : application/x-www-form-urlencoded , fields : { name : server , type : text },{ name : ql , type : text } } } notice the http://127.0.0.1:1337\\ instead of http://127.0.0.1:1337/ . this causes the following test to fail: js zetta api updates href hosts using x-forwarded-host header: assertionerror: 'http://google.com\\' == 'http://google.com/' at c:\users\marvin\documents\code\zetta\test\test_api.js:99:22 at c:\users\marvin\documents\code\zetta\test\test_api.js:32:5 at test.assert c:\users\marvin\documents\code\zetta ode_modules\supertest\lib\test.js:213:13 at server.assert c:\users\marvin\documents\code\zetta ode_modules\supertest\lib\test.js:132:12 at object.oncewrapper events.js:293:19 at emitnone events.js:86:13 at server.emit events.js:188:7 at emitclosent net.js:1546:8 at _combinedtickcallback internal/process/next_tick.js:77:11 at process._tickdomaincallback internal/process/next_tick.js:128:9 i haven't been able to find the place where the url helper is defined... but a simple .replace /\\/g, '/' would do it.