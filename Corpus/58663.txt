 URL : "https://github.com/kubernetes/node-problem-detector/issues/76" TITLE : standalone npd support BODY : for better reliability, in kubernetes 1.6, we plan to add standalone npd support to run npd as a system daemon on each node. to achieve this, we need to: - x add apiserver-override option to make it possible to use customized client config instead of inclusterconfig . https://github.com/kubernetes/node-problem-detector/pull/49 - make npd wait for: apiserver to come up. https://github.com/kubernetes/node-problem-detector/issues/19 kubelet to register node. this is necessary, because in standalone mode, npd may be deployed before apiserver and kubelet are functioning. it should wait for them to come up. - npd should host a simple http server for readiness check and health monitor. requred: add /health for health monitoring. optional: add /pprof for performance debugging. optional: add debug endpoint to list internal state. optional: add grpc problem report endpoint. - resource limit - get benchmark data about the npd resource usage - adjust nodeallocatable according to the resource usage accordingly. - add standalone npd into k8s bootstrap script. - package npd binary as tar ball and upload it to google storage. - download and setup npd binary in k8s bootstrap script. - npd should have a specific user account which has necessary permission in k8s cluster. similar with system:kube-proxy https://github.com/kubernetes/kubernetes/blob/master/plugin/pkg/auth/authorizer/rbac/bootstrappolicy/testdata/cluster-role-bindings.yaml l90 .