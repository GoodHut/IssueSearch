 URL : "https://github.com/HughParsonage/grattan/issues/59" TITLE : greater speed up of pmaxc BODY : this seems even faster for a = 0: r library inline cpp_if_src <- ' rcpp::numericvector xa a ; int n_xa = xa.size ; for int i=0; i < n_xa; i++ { if xa i <0 xa i = 0; } return xa; ' cpp_if <- cxxfunction signature a= numeric , cpp_if_src, plugin= rcpp