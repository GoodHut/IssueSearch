 URL : "https://github.com/pytest-dev/pytest/issues/2900" TITLE : exception info is missing? BODY : in one of my test cases i need to catch an exception and log it in order to test the custom logging handler logic https://github.com/keeprocking/pygelf/blob/master/pygelf/gelf.py l41 . i tried the following: with pytest.raises exception as e: raise exception 'something went wrong' logging.exception e but it seems like log record's exc_info https://docs.python.org/3/library/logging.html logrecord-objects is filled with empty values none, none, none , as well as sys.exc_info . however, the following code works just fine when using unittest instead of pytest: try: raise exception 'something went wrong' except exception as e: logging.exception e could you please advise how to make pytest to keep the actual exc_info? macos 10.11.3, pytest 3.2.3 $ pip list certifi 2017.11.5 chardet 3.0.4 idna 2.6 mock 2.0.0 pbr 3.1.1 pip 9.0.1 py 1.4.34 pygelf 0.3.1 pytest 3.2.3 requests 2.18.4 setuptools 36.6.0 six 1.11.0 urllib3 1.22 wheel 0.30.0