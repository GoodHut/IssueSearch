 URL : "https://github.com/ArcticaProject/nx-libs/issues/357" TITLE : check atom lookup BODY : while hunting down some valgrind findings i extended nameforatom in dix/atom.c by an fprint: char nameforatom atom atom { nodeptr node; if atom > lastatom return null; if node = nodetable atom == nodeptr null return null; fprintf stderr, nameforatom %d is %s , atom, node->string ; return node->string; } i then got a print for every successful run of that function. the interesting part: almost all lookup appeared twice in a row, with targets being the only exception. example output: ... nameforatom 348 is _net_client_list nameforatom 348 is _net_client_list nameforatom 349 is _net_client_list_stacking nameforatom 349 is _net_client_list_stacking nameforatom 254 is sm_client_id nameforatom 254 is sm_client_id nameforatom 316 is _net_active_window nameforatom 316 is _net_active_window nameforatom 75 is targets nameforatom 348 is _net_client_list nameforatom 348 is _net_client_list nameforatom 349 is _net_client_list_stacking nameforatom 349 is _net_client_list_stacking nameforatom 318 is _net_frame_extents nameforatom 318 is _net_frame_extents nameforatom 318 is _net_frame_extents nameforatom 318 is _net_frame_extents nameforatom 373 is _net_wm_allowed_actions nameforatom 373 is _net_wm_allowed_actions ... looks like there's either a bug somewhere or we have potential for optimization...