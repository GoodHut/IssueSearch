 URL : "https://github.com/bandre-ucar/junk-issues/issues/106" TITLE : make ed_mode a bgc option BODY : erik kluzek < erik > - 2014-06-09 15:33:41 -0600 bugzilla id: 1992 bugzilla blocks: none, bugzilla depends: none, bugzilla cc: bandre, cdkoven, dlawren, muszala, mvertens, rfisher, sacks, bugzilla attachment: none currently, ed_mode is an option on top of the bgc setting in clm build-namelist, and there are compsets for ed with cn as well as ed with bgc. and it appears that you can set bgc to any valid setting sp, cn, cndv, or bgc and combine it with ed_mode. and you would think that you'd get different results with this. in reality, ed_mode turns cn off and adds switches that pretty much duplicate the logic of use_cn=.false. switches. the only difference for ed with cn and with bgc is bgc turns methane on. but, without fully enabled bgc, i don't think methane works correctly. rosie said there is an intention to eventually have ed run with below-ground bgc, but that's not working yet, and undoubtably it would be enabled as a ed_mode switch. i met with rosie, and she agrees with me that having ed as a bgc mode makes more sense. she did say, that originally she couldn't get things to work without cn on, as certain arrays weren't allocated. i'm pretty sure at this point, we allocate everything whether cn is on or not, so that issue wouldn't come up anymore. to set this up would require some changes both to scripts for compsets and to clm to code and to clm build-namelist .