 URL : "https://github.com/NixOS/nixpkgs/issues/23418" TITLE : libchop build failing BODY : i'm trying to fix libchop for 23253. the build started failing with commit f803270b7e: specifically a single unit test fails: fail: utils/block-server exit: 1 ================================== ... ++ chop_fail_if '!' chop-block-server -a 127.0.0.1 -p 7696 ,,block-server.db '&' ++ eval '!' chop-block-server -a 127.0.0.1 -p 7696 ,,block-server.db '&' ++ echo 'failure condition !' chop-block-server -a 127.0.0.1 -p 7696 ,,block-server.db '&'\'' is true' failure condition ! chop-block-server -a 127.0.0.1 -p 7696 ,,block-server.db &' is true ... it's almost surely due to some incompatible change in bash 4.4 but i haven't figured it out yet. also, against the current head, build fails with in file included from chop.c:545:0: class-lookup.c:115:1: error: conflicting types for 'chop_lookup_class_entry' chop_lookup_class_entry register const char str, register size_t len ^ chop.c:542:1: note: previous declaration of 'chop_lookup_class_entry' was here chop_lookup_class_entry const char str, unsigned int len ;