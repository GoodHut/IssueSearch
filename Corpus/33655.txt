 URL : "https://github.com/highsource/jsonix/issues/178" TITLE : ajv draft 06 support BODY : ajv@5 or above cannot add xmlschema.jsonschema requires migration as per ajv https://github.com/epoberezkin/ajv/releases/tag/5.0.0 > > migrate your schemas > > it is a recommended approach. > > required changes > > - replace id with $id > - update $schema > - replace boolean form of exclusivemaximum/minimum with numeric form > - replace ajv v5 constant with const > > optional changes > > - replace enum with a single allowed value with const > - replace empty schemas with true > - replace schemas { not :{}} with false > - you can use migrate command of ajv-cli to make these changes to your schemas. > > _ you can use migrate command of ajv-cli to make these changes to your schemas. _ either we can update docs to keep using draft04 of json schema with following info : > if you need to continue using draft-04 schemas > > var ajv = new ajv { > meta: false, // optional, to prevent adding draft-06 meta-schema > extendrefs: true, // optional, current default is to 'fail', spec behaviour is to 'ignore' > unknownformats: 'ignore', // optional, current default is true fail > // ... > } ; > > var metaschema = require 'ajv/lib/refs/json-schema-draft-04.json' ; > ajv.addmetaschema metaschema ; > ajv._opts.defaultmeta = metaschema.id; > > // optional, using unversioned uri is out of spec, see https://github.com/json-schema-org/json-schema-spec/issues/216 > ajv._refs 'http://json-schema.org/schema' = 'http://json-schema.org/draft-04/schema'; > > // optionally you can also disable keywords defined in draft-06 > ajv.removekeyword 'propertynames' ; > ajv.removekeyword 'contains' ; > ajv.removekeyword 'const' ; > > or we can update jsonschemas using migrate command of ajv-cli ?