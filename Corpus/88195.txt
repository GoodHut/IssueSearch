 URL : "https://github.com/Recognos/Metrics.NET/issues/78" TITLE : moving averages of ratios BODY : i have a producer/consumer system, with a meter for each side. ratiogauge exposes the instantaneous produced/consumed ratio, but since the producer generally starts queuing things before the consumer finishes processing any this has spiky startup characteristics, which will trigger a threshold-based alert no matter what i set the threshold to. it would be useful to be able to monitor the moving average over a time period instead, which would smooth out any irrelevant spikes and measurement artefacts. how might i go about producing one-, five- and fifteen-minute moving averages of this value as a derived metric? i assume this will involve sampling the ratio periodically and inserting the values into a histogram, but is there an idiomatic way of doing this? the obvious way appears a little inefficient, ie. firing a callback every second. i'm not entirely sure about the characteristics of the reservoirs with regard to initial samples, either. will they need priming with zeroes to prevent the averages starting from the initial possibly infinite value?