 URL : "https://github.com/elastic/elasticsearch-py/issues/595" TITLE : update document counters BODY : i am fairly new to elastic and am busting my head to solve this particular problem. i am inserting the documents of the following format into elasticsearch. _json = { 'title' : 'this is the title', 'text' : 'this is the text', 'counter' : 1 } the 'id' of the documents is the 'title' field . there are multiple documents with the same 'title' id field . i want to increment the counter when a document with the same title is being inserted again into the index. i have already tried using the following piece of code however it does not work for some reason and i cannot seem to find the reason as to why. upscript = { 'script': { 'inline': 'ctx._source.counter += 1' } 'doc': _json, 'doc_upsert': true } es.index index='test', doc_type='test1', id=_json 'title' , body=upscript . -regards, alex