 URL : "https://github.com/rubberduck203/avr-test/issues/1" TITLE : break avr/io.h dependency BODY : in the makefile, i'd like to replace this make test/bin/alltests: $ objdir /leddriver.o $ testsource g++ $ cppflags -wall $^ -o $@ $ ld_libraries with this make testobjects := $ patsubst src/%.c,$ objdir /%.o,$ wildcard src/ .c test/bin/alltests: $ testobjects $ testsource g++ $ cppflags -wall $^ -o $@ $ ld_libraries but this causes us to start compiling demo.c, which includes <avr/io.h> . avr/io drags in things that just won't compile on the standard gcc compiler. i think we can get around this by including fake headers when compiling via the -i flag, but i need to determine what the minimal fake header is for avr/io.h