 URL : "https://github.com/HackerHappyHour/hackerhappyhour-docker/issues/8" TITLE : fix storage setup BODY : storage setup no longer works properly for devicemapper, and likely other cow filesystems. the docker-storage-setup service used to be a native unit of docker-engine , but it is no longer contained within docker-ce , and therefore volume setup and configuration for docker are for the most part broken in this module. project atomic maintains a container-storage-setup https://github.com/projectatomic/container-storage-setup which we could derive a solution from. there are two ways i can see using this script to manage configuration: option 1 1. as part of the storage step grab the project maybe there's a git package provider? ☹️ 2. run make on it unless the container-storage-setup command exists 3. convert the container-storage-setup.conf to a template 4. lay that template down using values passed in via apl 5. make the docker service file depend on this service in order to start snippet below grabbed from readme.md environmentfile=-/etc/sysconfig/runtime-storage ... execstart=/usr/bin/container-runtime $storage_options option 2 1. maintain an up-to-date copy of the container-storage-setup.sh script as a template, or use augeas resource with a container_storage_setup hash with params matching the shellvars from the script. 2. in the storage manifest, execute the resulting script