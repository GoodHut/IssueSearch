 URL : "https://github.com/brocaar/loraserver/issues/232" TITLE : lora reply to a fsk packet BODY : hi, i think i have found a bug. when a fsk message is received and requires a reply, the command issued to the gateway does not contain a code rate. this causes the gateway to not send the reply. this is most likely due to the fact that fsk messages do not have a code rate as far as i know and thus a line like the following would fail: reply.coderate = receivedpacket.coderate mqtt log: gateway/???/rx { rxinfo :{ mac : , time : 2017-08-22t10:57:55.693913z , timestamp :787458244, frequency :868800000, channel :9, rfchain :1, crcstatus :1, coderate : , rssi :-43, lorasnr :0, size :???, datarate :{ modulation : fsk , bitrate :50000}}, phypayload : ??? } gateway/???/tx { txinfo :{ mac : , immediately :false, timestamp :793458244, frequency :869525000, power :14, datarate :{ modulation : lora , spreadfactor :12, bandwidth :125}, coderate : , ipol :null}, phypayload : ??? } please note that this only occurs when using fsk and confiruing the server either sends in rx2 or when rx1droffset >= 1. i am not sure what the solution is, as the lorawan specification does not state anything about the code rate to use. any device is free to choose their code rate as far as i know, but any reply should use the same code rate. as fsk does not work with code rates and the most common code rate is 4/5 , i think that 4/5 would be the best choice. i believe the code rate used in transmitted in the phy_header of any lora packet and thus does not have to be matched with the receiving device. i hope this helps. thanks in advance.