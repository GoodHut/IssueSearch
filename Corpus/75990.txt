 URL : "https://github.com/schibsted/sdk-js/issues/86" TITLE : improve hasvarnishcookie BODY : currently hasvarnishcookie has a rather simplistic code: javascript function hasvarnishcookie { return document.cookie.indexof _varnishcookiename + '=' > -1; } this is not bullet proof because if the 'sp_id=' appears in any cookie for example if there is a cookie called ab_grasp_id , it'll give a false positive. example: javascript > document.cookie = 'sp_id=foo' > document.cookie = 'ab_grasp_id=foo' > document.cookie = 'sp_id=bar;expires=' + new date 0 .toutcstring > document.cookie // see all the cookies 'ab_grasp_id=foo' // sp_id is deleted > document.cookie.indexof 'sp_id=' 6 // false positive