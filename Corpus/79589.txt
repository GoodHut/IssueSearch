 URL : "https://github.com/nodejs/node/issues/13461" TITLE : socket hang up on node 8 BODY : <!-- thank you for reporting an issue. this issue tracker is for bugs and issues found within node.js core. if you require more general support please file an issue on our help repo. https://github.com/nodejs/help please fill in as much of the template below as you're able. version: output of node -v platform: output of uname -a unix , or version and 32 or 64-bit windows subsystem: if known, please specify affected core module name if possible, please provide code that demonstrates the problem, keeping it as simple and free of external dependencies as you are able. --> version : 8.0.0 platform : os x subsystem : http with the following var http = require 'http' ; var server = http.createserver req, res => { console.log 'got request' ; res.write 'efgh' res.end ; } ; server.listen 8080, function { makerequest => { server.close ; } ; } ; function makerequest cb { var req = http.request 'http://localhost:8080', function res { console.log 'got response' res.resume ; cb ; } req.end 'abcd' ; } i get this error events.js:182 throw er; // unhandled 'error' event ^ error: socket hang up at createhanguperror _http_client.js:343:15 at socket.socketonend _http_client.js:435:23 at emitnone events.js:110:20 at socket.emit events.js:207:7 at endreadablent _stream_readable.js:1045:12 at _combinedtickcallback internal/process/next_tick.js:102:11 at process._tickcallback internal/process/next_tick.js:161:9 the same code works fine on node 7 and 6. the key to reproducing seems to be that req.end is called with data and res.write is called with data before calling res.end .