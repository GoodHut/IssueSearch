 URL : "https://github.com/CaChannel/caffi/issues/1" TITLE : crashes on exit BODY : two cases of crash on exit have been found: - appveyorci https://ci.appveyor.com/project/xiaoqiangwang/caffi/build/1.0.12/job/6xomcfpn4053ffp8 any tests would pass the test but fail randomly on exit. - travisci https://travis-ci.org/cachannel/caffi/jobs/213556514 the doctest of cachannel module using caffi as backend would also pass the test but fail randomly on exit. by all cases, the crash only happens on python 3. some efforts have been devoted to track down the crash point, e.g. explicitly clearing channels and destroying context. the crash cannot be eliminated. one speculation is that, the various cleanup actions performed by epics com/ca libraries when the dlclose is called.