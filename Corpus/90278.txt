 URL : "https://github.com/haskell-crypto/cryptonite/issues/193" TITLE : segfault in blake2_update BODY : we found a segfault in blake2_update function and @vincenthz provided a workaround patch: diff --git a/crypto/hash/blake2b.hs b/crypto/hash/blake2b.hs index c22c284..19c68ba 100644 --- a/crypto/hash/blake2b.hs +++ b/crypto/hash/blake2b.hs @@ -85,7 +85,7 @@ instance hashalgorithm blake2b_512 where foreign import ccall unsafe cryptonite_blake2b_init c_blake2b_init :: ptr context a -> word32 -> io -foreign import ccall cryptonite_blake2b_update +foreign import ccall unsafe cryptonite_blake2b_update c_blake2b_update :: ptr context a -> ptr word8 -> word32 -> io foreign import ccall unsafe cryptonite_blake2b_finalize