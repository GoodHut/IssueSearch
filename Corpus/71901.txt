 URL : "https://github.com/thymikee/jest-preset-angular/issues/82" TITLE : angular hybrid app fails BODY : when i try to test a hybrid app angular and angularjs , every component with the following lines needed for working with angular js fails: angular.module 'modulename' .directive 'componentname', downgradecomponent { component: componentnamecomponent, inputs: , outputs: } as angular.idirectivefactory ; i get the following error fail src\app\componentname\componentname.component.spec.ts - test suite failed to run referenceerror: angular is not defined at object.<anonymous> src/app/componentname/componentname.component.ts:64:1 at object.<anonymous> src/app/componentname/componentname.component.spec.ts:3:1 at next native at next native i have installed @types/angular and desclared angular before the failing code like this: declare var angular: angular.iangularstatic;